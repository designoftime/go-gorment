import{h as F,r as S,S as P,b as I,u as E,j as a,d as p,L as O}from"./index-cfea1030.js";import{e as L,h as q,d as C}from"./Layout-fc599ef4.js";import{s as H}from"./spinner-f39505bc.js";import{A as K}from"./AdminServices-793f70cd.js";import{u as V,P as N,T as B,C as v,A as y}from"./themeServices-00387910.js";import{r as c}from"./httpService-a0bb7019.js";import{C as Z}from"./CustomerServices-832e13cf.js";import{L as A}from"./LanguageServices-0732b6ed.js";import{C as $}from"./CurrencyServices-746fab50.js";import{n as l,a as j}from"./toast-409cb233.js";import{T as w}from"./Tooltip-67b0b825.js";const D={addCoupon:async t=>c.post("/coupon/add",t),addAllCoupon:async t=>c.post("/coupon/add/all",t),getAllCoupons:async()=>c.get("/coupon"),getCouponById:async t=>c.get(`/coupon/${t}`),updateCoupon:async(t,r)=>c.put(`/coupon/${t}`,r),updateManyCoupons:async t=>c.patch("/coupon/update/many",t),updateStatus:async(t,r)=>c.put(`/coupon/status/${t}`,r),deleteCoupon:async t=>c.delete(`/coupon/${t}`),deleteManyCoupons:async t=>c.patch("/coupon/delete/many",t)},_={getAllReviews:async()=>c.get("/reviews/all"),getReviewById:async t=>c.get(`/reviews/${t}`),updateReviews:async(t,r)=>c.put(`/reviews/${t}`,r),deleteReviews:async t=>c.delete(`/reviews/${t}`)},z=({id:t,ids:r,setIsCheck:m,category:x,title:d,useParamId:h})=>{const{isModalOpen:f,closeModal:s,setIsUpdate:o}=S.useContext(P),{setServiceId:i}=V(),u=I(),[R,n]=S.useState(!1),T=async()=>{var b,M;try{if(n(!0),u.pathname==="/products")if(r){const e=await N.deleteManyProducts({ids:r});o(!0),l(e.message),m([]),i(),s(),n(!1)}else{const e=await N.deleteProduct(t);o(!0),l(e.message),i(),s(),n(!1)}if(u.pathname==="/coupons")if(r){const e=await D.deleteManyCoupons({ids:r});o(!0),l(e.message),m([]),i(),s(),n(!1)}else{const e=await D.deleteCoupon(t);o(!0),l(e.message),i(),s(),n(!1)}if(u.pathname==="/theme")if(r){const e=await B.deleteManyThemes({ids:r});o(!0),l(e.message),m([]),i(),s(),n(!1)}else{const e=await B.deleteTheme(t);o(!0),l(e.message),i(),s(),n(!1)}if(u.pathname==="/review"){const e=await _.deleteReviews(t);o(!0),l(e.message),i(),s(),n(!1)}if(u.pathname==="/categories"||x)if(r){const e=await v.deleteManyCategory({ids:r});o(!0),l(e.message),m([]),i(),s(),n(!1)}else{if(t===void 0||!t)return j("Please select a category first!"),n(!1),s();const e=await v.deleteCategory(t);o(!0),l(e.message),s(),i(),n(!1)}else if(u.pathname===`/categories/${h}`||x){if(t===void 0||!t)return j("Please select a category first!"),n(!1),s();const e=await v.deleteCategory(t);o(!0),l(e.message),s(),i(),n(!1)}if(u.pathname==="/customers"){const e=await Z.deleteCustomer(t);o(!0),l(e.message),i(),s(),n(!1)}if(u.pathname==="/attributes")if(r){const e=await y.deleteManyAttribute({ids:r});o(!0),l(e.message),m([]),i(),s(),n(!1)}else{const e=await y.deleteAttribute(t);o(!0),l(e.message),i(),s(),n(!1)}if(u.pathname===`/attributes/${u.pathname.split("/")[2]}`)if(r){const e=await y.deleteManyChildAttribute({id:u.pathname.split("/")[2],ids:r});o(!0),l(e.message),i(),m([]),s(),n(!1)}else{const e=await y.deleteChildAttribute({id:t,ids:u.pathname.split("/")[2]});o(!0),l(e.message),i(),s(),n(!1)}if(u.pathname==="/our-staff"){const e=await K.deleteStaff(t);o(!0),l(e.message),i(),s(),n(!1)}if(u.pathname==="/languages")if(r){const e=await A.deleteManyLanguage({ids:r});o(!0),l(e.message),m([]),s(),n(!1)}else{const e=await A.deleteLanguage(t);o(!0),l(e.message),i(),s(),n(!1)}if(u.pathname==="/currencies")if(r){const e=await $.deleteManyCurrency({ids:r});o(!0),l(e.message),m([]),s(),n(!1)}else{const e=await $.deleteCurrency(t);o(!0),l(e.message),i(),s(),n(!1)}}catch(e){j(e?(M=(b=e==null?void 0:e.response)==null?void 0:b.data)==null?void 0:M.message:e==null?void 0:e.message),i(),m([]),s(),n(!1)}},{t:g}=E();return a.jsx(a.Fragment,{children:a.jsxs(p.Modal,{isOpen:f,onClose:s,children:[a.jsxs(p.ModalBody,{className:"text-center custom-modal px-8 pt-6 pb-4",children:[a.jsx("span",{className:"flex justify-center text-3xl mb-6 text-red-500",children:a.jsx(L,{})}),a.jsxs("h2",{className:"text-xl font-medium mb-2",children:[g("DeleteModalH2")," ",a.jsx("span",{className:"text-red-500",children:d}),"?"]}),a.jsx("p",{children:g("DeleteModalPtag")})]}),a.jsxs(p.ModalFooter,{className:"justify-center",children:[a.jsx(p.Button,{className:"w-full sm:w-auto hover:bg-white hover:border-gray-50",layout:"outline",onClick:s,children:g("modalKeepBtn")}),a.jsx("div",{className:"flex justify-end",children:R?a.jsxs(p.Button,{disabled:!0,type:"button",className:"w-full h-12 sm:w-auto",children:[a.jsx("img",{src:H,alt:"Loading",width:20,height:10})," ",a.jsx("span",{className:"font-serif ml-2 font-light",children:g("Processing")})]}):a.jsx(p.Button,{onClick:T,className:"w-full h-12 sm:w-auto",children:g("modalDeletBtn")})})]})]})})},ae=F.memo(z),oe=({id:t,title:r,handleUpdate:m,handleModalOpen:x,isCheck:d,product:h,parent:f,children:s})=>{const{t:o}=E();return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"flex justify-end text-right",children:[(s==null?void 0:s.length)>0?a.jsxs(a.Fragment,{children:[a.jsx(O,{to:`/categories/${f==null?void 0:f._id}`,className:"p-2 cursor-pointer text-gray-400 hover:text-emerald-600 focus:outline-none",children:a.jsx(w,{id:"view",Icon:q,title:o("View"),bgColor:"#10B981"})}),a.jsx("button",{disabled:(d==null?void 0:d.length)>0,onClick:()=>m(t),className:"p-2 cursor-pointer text-gray-400 hover:text-emerald-600 focus:outline-none",children:a.jsx(w,{id:"edit",Icon:C,title:o("Edit"),bgColor:"#10B981"})})]}):a.jsx("button",{disabled:(d==null?void 0:d.length)>0,onClick:()=>m(t),className:"p-2 cursor-pointer text-gray-400 hover:text-emerald-600 focus:outline-none",children:a.jsx(w,{id:"edit",Icon:C,title:o("Edit"),bgColor:"#10B981"})}),a.jsx("button",{disabled:(d==null?void 0:d.length)>0,onClick:()=>x(t,r,h),className:"p-2 cursor-pointer text-gray-400 hover:text-red-600 focus:outline-none",children:a.jsx(w,{id:"delete",Icon:L,title:o("Delete"),bgColor:"#EF4444"})})]})})};export{D as C,ae as D,oe as E,_ as R};
