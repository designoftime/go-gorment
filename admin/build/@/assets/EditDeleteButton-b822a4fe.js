import{i as F,r as M,S as P,e as I,u as E,j as a,d as p,L as O}from"./index-a9385069.js";import{e as T,h as q,d as S}from"./Layout-871ece32.js";import{s as H}from"./spinner-f39505bc.js";import{A as K}from"./AdminServices-e3c27bca.js";import{u as V,P as $,T as N,C as v,A as x}from"./themeServices-f42e45be.js";import{r as u}from"./httpService-3eb840d8.js";import{L as A}from"./LanguageServices-af65a0ea.js";import{C as B}from"./CurrencyServices-e6013072.js";import{n as l,a as j}from"./toast-3054dd83.js";import{T as w}from"./Tooltip-f9a990c8.js";const D={addCoupon:async e=>u.post("/coupon/add",e),addAllCoupon:async e=>u.post("/coupon/add/all",e),getAllCoupons:async()=>u.get("/coupon"),getCouponById:async e=>u.get(`/coupon/${e}`),updateCoupon:async(e,r)=>u.put(`/coupon/${e}`,r),updateManyCoupons:async e=>u.patch("/coupon/update/many",e),updateStatus:async(e,r)=>u.put(`/coupon/status/${e}`,r),deleteCoupon:async e=>u.delete(`/coupon/${e}`),deleteManyCoupons:async e=>u.patch("/coupon/delete/many",e)},Z={getAllCustomers:async({searchText:e=""})=>u.get(`/customer?searchText=${e}`),addAllCustomers:async e=>u.post("/customer/add/all",e),createCustomer:async e=>u.post("/customer/create",e),filterCustomer:async e=>u.post(`/customer/filter/${e}`),getCustomerById:async e=>u.get(`/customer/${e}`),updateCustomer:async(e,r)=>u.put(`/customer/${e}`,r),deleteCustomer:async e=>u.delete(`/customer/${e}`)},_={getAllReviews:async()=>u.get("/reviews/all"),getReviewById:async e=>u.get(`/reviews/${e}`),updateReviews:async(e,r)=>u.put(`/reviews/${e}`,r),deleteReviews:async e=>u.delete(`/reviews/${e}`)},z=({id:e,ids:r,setIsCheck:m,category:y,title:d,useParamId:h})=>{const{isModalOpen:f,closeModal:s,setIsUpdate:o}=M.useContext(P),{setServiceId:c}=V(),i=I(),[L,n]=M.useState(!1),R=async()=>{var b,C;try{if(n(!0),i.pathname==="/products")if(r){const t=await $.deleteManyProducts({ids:r});o(!0),l(t.message),m([]),c(),s(),n(!1)}else{const t=await $.deleteProduct(e);o(!0),l(t.message),c(),s(),n(!1)}if(i.pathname==="/coupons")if(r){const t=await D.deleteManyCoupons({ids:r});o(!0),l(t.message),m([]),c(),s(),n(!1)}else{const t=await D.deleteCoupon(e);o(!0),l(t.message),c(),s(),n(!1)}if(i.pathname==="/theme")if(r){const t=await N.deleteManyThemes({ids:r});o(!0),l(t.message),m([]),c(),s(),n(!1)}else{const t=await N.deleteTheme(e);o(!0),l(t.message),c(),s(),n(!1)}if(i.pathname==="/review"){const t=await _.deleteReviews(e);o(!0),l(t.message),c(),s(),n(!1)}if(i.pathname==="/categories"||y)if(r){const t=await v.deleteManyCategory({ids:r});o(!0),l(t.message),m([]),c(),s(),n(!1)}else{if(e===void 0||!e)return j("Please select a category first!"),n(!1),s();const t=await v.deleteCategory(e);o(!0),l(t.message),s(),c(),n(!1)}else if(i.pathname===`/categories/${h}`||y){if(e===void 0||!e)return j("Please select a category first!"),n(!1),s();const t=await v.deleteCategory(e);o(!0),l(t.message),s(),c(),n(!1)}if(i.pathname==="/customers"){const t=await Z.deleteCustomer(e);o(!0),l(t.message),c(),s(),n(!1)}if(i.pathname==="/attributes")if(r){const t=await x.deleteManyAttribute({ids:r});o(!0),l(t.message),m([]),c(),s(),n(!1)}else{const t=await x.deleteAttribute(e);o(!0),l(t.message),c(),s(),n(!1)}if(i.pathname===`/attributes/${i.pathname.split("/")[2]}`)if(r){const t=await x.deleteManyChildAttribute({id:i.pathname.split("/")[2],ids:r});o(!0),l(t.message),c(),m([]),s(),n(!1)}else{const t=await x.deleteChildAttribute({id:e,ids:i.pathname.split("/")[2]});o(!0),l(t.message),c(),s(),n(!1)}if(i.pathname==="/our-staff"){const t=await K.deleteStaff(e);o(!0),l(t.message),c(),s(),n(!1)}if(i.pathname==="/languages")if(r){const t=await A.deleteManyLanguage({ids:r});o(!0),l(t.message),m([]),s(),n(!1)}else{const t=await A.deleteLanguage(e);o(!0),l(t.message),c(),s(),n(!1)}if(i.pathname==="/currencies")if(r){const t=await B.deleteManyCurrency({ids:r});o(!0),l(t.message),m([]),s(),n(!1)}else{const t=await B.deleteCurrency(e);o(!0),l(t.message),c(),s(),n(!1)}}catch(t){j(t?(C=(b=t==null?void 0:t.response)==null?void 0:b.data)==null?void 0:C.message:t==null?void 0:t.message),c(),m([]),s(),n(!1)}},{t:g}=E();return a.jsx(a.Fragment,{children:a.jsxs(p.Modal,{isOpen:f,onClose:s,children:[a.jsxs(p.ModalBody,{className:"text-center custom-modal px-8 pt-6 pb-4",children:[a.jsx("span",{className:"flex justify-center text-3xl mb-6 text-red-500",children:a.jsx(T,{})}),a.jsxs("h2",{className:"text-xl font-medium mb-2",children:[g("DeleteModalH2")," ",a.jsx("span",{className:"text-red-500",children:d}),"?"]}),a.jsx("p",{children:g("DeleteModalPtag")})]}),a.jsxs(p.ModalFooter,{className:"justify-center",children:[a.jsx(p.Button,{className:"w-full sm:w-auto hover:bg-white hover:border-gray-50",layout:"outline",onClick:s,children:g("modalKeepBtn")}),a.jsx("div",{className:"flex justify-end",children:L?a.jsxs(p.Button,{disabled:!0,type:"button",className:"w-full h-12 sm:w-auto",children:[a.jsx("img",{src:H,alt:"Loading",width:20,height:10})," ",a.jsx("span",{className:"font-serif ml-2 font-light",children:g("Processing")})]}):a.jsx(p.Button,{onClick:R,className:"w-full h-12 sm:w-auto",children:g("modalDeletBtn")})})]})]})})},se=F.memo(z),ae=({id:e,title:r,handleUpdate:m,handleModalOpen:y,isCheck:d,product:h,parent:f,children:s})=>{const{t:o}=E();return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"flex justify-end text-right",children:[(s==null?void 0:s.length)>0?a.jsxs(a.Fragment,{children:[a.jsx(O,{to:`/categories/${f==null?void 0:f._id}`,className:"p-2 cursor-pointer text-gray-400 hover:text-emerald-600 focus:outline-none",children:a.jsx(w,{id:"view",Icon:q,title:o("View"),bgColor:"#10B981"})}),a.jsx("button",{disabled:(d==null?void 0:d.length)>0,onClick:()=>m(e),className:"p-2 cursor-pointer text-gray-400 hover:text-emerald-600 focus:outline-none",children:a.jsx(w,{id:"edit",Icon:S,title:o("Edit"),bgColor:"#10B981"})})]}):a.jsx("button",{disabled:(d==null?void 0:d.length)>0,onClick:()=>m(e),className:"p-2 cursor-pointer text-gray-400 hover:text-emerald-600 focus:outline-none",children:a.jsx(w,{id:"edit",Icon:S,title:o("Edit"),bgColor:"#10B981"})}),a.jsx("button",{disabled:(d==null?void 0:d.length)>0,onClick:()=>y(e,r,h),className:"p-2 cursor-pointer text-gray-400 hover:text-red-600 focus:outline-none",children:a.jsx(w,{id:"delete",Icon:T,title:o("Delete"),bgColor:"#EF4444"})})]})})};export{Z as C,se as D,ae as E,_ as R,D as a};
