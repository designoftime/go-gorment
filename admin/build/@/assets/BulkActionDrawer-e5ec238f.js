import{j as e,b as Z,r as p,S as M,d as N}from"./index-c6a448ba.js";import{a as ee}from"./index.prod-6de79f54.js";import{C as se,P as ae,A as W,a as te,T as re}from"./DrawerButton-1af74be5.js";import{a as X}from"./EditDeleteButton-cd648966.js";import{C as Y}from"./CurrencyServices-65bd107c.js";import{L as le}from"./LanguageServices-1b237395.js";import{n as v,a as F}from"./toast-1193d09c.js";import{R as oe}from"./index-e5ef0df5.js";import{P as ne,M as ie,T as J}from"./ParentCategory-06a38343.js";import{i as ce,l as de}from"./Layout-34e0e334.js";import{u as pe,E as C}from"./index.esm-7eceb2c8.js";import{L as o}from"./LabelArea-adfb9936.js";import{S as T}from"./SwitchToggle-31471b21.js";import"./httpService-1802d87e.js";import{u as ge}from"./useUtilsFunction-b77aaf74.js";const De=({id:S,name:l,type:b,handleClick:m,isChecked:n})=>e.jsx(e.Fragment,{children:e.jsx("input",{id:S,name:l,type:b,onChange:m,checked:n})}),Ee=({id:S,status:l,category:b,currencyStatusName:m})=>{const n=Z(),{setIsUpdate:c}=p.useContext(M),g=async d=>{var P,k;try{let a;if(l==="show"?a="hide":a="show",n.pathname==="/categories"||b){const t=await se.updateStatus(d,{status:a});c(!0),v(t.message)}if(n.pathname==="/products"){const t=await ae.updateStatus(d,{status:a});c(!0),v(t.message)}if(n.pathname==="/languages"){const t=await le.updateStatus(d,{status:a});c(!0),v(t.message)}if(n.pathname==="/currencies")if(m==="status"){const t=await Y.updateEnabledStatus(d,{status:a});c(!0),v(t.message)}else{const t=await Y.updateLiveExchangeRateStatus(d,{live_exchange_rates:a});c(!0),v(t.message)}if(n.pathname==="/attributes"){const t=await W.updateStatus(d,{status:a});c(!0),v(t.message)}if(n.pathname===`/attributes/${n.pathname.split("/")[2]}`){const t=await W.updateChildStatus(d,{status:a});c(!0),v(t.message)}if(n.pathname==="/coupons"){const t=await X.updateStatus(d,{status:a});c(!0),v(t.message)}if(n.pathname==="/our-staff"){const t=await X.updateStaffStatus(d,{status:a});c(!0),v(t.message)}}catch(a){F(a?(k=(P=a==null?void 0:a.response)==null?void 0:P.data)==null?void 0:k.message:a==null?void 0:a.message)}};return e.jsx(ee,{onChange:()=>g(S),checked:l==="show",className:"react-switch md:ml-0",uncheckedIcon:e.jsx("div",{style:{display:"flex",alignItems:"center",height:"100%",width:120,fontSize:14,color:"white",paddingRight:22,paddingTop:1}}),width:30,height:15,handleDiameter:13,offColor:"#E53E3E",onColor:"#2F855A",checkedIcon:e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:73,height:"100%",fontSize:14,color:"white",paddingLeft:20,paddingTop:1}})})},Q=({register:S,name:l,label:b,placeholder:m,required:n,type:c,value:g})=>e.jsx(e.Fragment,{children:e.jsx(N.Textarea,{className:"border text-sm border-gray-200 focus:border-gray-300 block w-full bg-gray-100",...S(`${l}`,{required:n?!1:`${b} is required!`}),type:c,placeholder:m,name:l,value:g,rows:"4",spellCheck:"false"})}),me=(S,l="en",b)=>{const[m,n]=p.useState(""),[c,g]=p.useState([]);Z();const[d,P]=p.useState(""),[k,a]=p.useState(!0),[t,B]=p.useState(!0),[f,h]=p.useState([]),[L,x]=p.useState([]),[I,R]=p.useState(!1),[q,V]=p.useState(""),{isBulkDrawerOpen:j,closeBulkDrawer:z,setIsUpdate:K}=p.useContext(M),{register:H,handleSubmit:A,watch:w,setValue:i,clearErrors:r,formState:{errors:D}}=pe(),O=async U=>F("This feature is disabled for demo!");return p.useEffect(()=>{if(!j){i("parent"),i("children"),i("type"),i("show"),i("name"),n(""),g([]),r("parent"),r("children"),r("type"),r("name"),i("name"),i("iso_code"),i("call_prefix"),i("currency"),i("zone"),r("name"),r("iso_code"),r("call_prefix"),r("currency"),r("zone"),r("status"),i("name"),i("iso_code"),i("country"),i("zone"),i("description"),r("name"),r("iso_code"),r("country"),r("zone"),r("status"),r("show"),r("description"),x([]),h([]);return}},[i,j,r]),p.useEffect(()=>{n(w("children"))},[w,m]),{register:H,watch:w,handleSubmit:A,onSubmit:O,errors:D,tag:c,setTag:g,published:k,setPublished:a,published2:t,setPublished2:B,checked:d,setChecked:P,selectedCategory:f,setSelectedCategory:h,defaultCategory:L,setDefaultCategory:x,selectCategoryName:q,setSelectCategoryName:V,isFoodItem:I,setIsFoodItem:R}},Fe=({ids:S,title:l,lang:b,data:m,childId:n,attributes:c,isCheck:g})=>{const{toggleBulkDrawer:d,isBulkDrawerOpen:P,closeBulkDrawer:k}=p.useContext(M),{showingTranslateValue:a}=ge(),{tag:t,setTag:B,published:f,register:h,onSubmit:L,errors:x,checked:I,setChecked:R,resetRefTwo:q,handleSubmit:V,setPublished:j,selectedCategory:z,setSelectedCategory:K,defaultCategory:H,setDefaultCategory:A,selectCategoryName:w,setSelectCategoryName:i}=me(S,b),r={motionName:"node-motion",motionAppear:!1,onAppearStart:s=>({height:0}),onAppearActive:s=>({height:s.scrollHeight}),onLeaveStart:s=>({height:s.offsetHeight}),onLeaveActive:()=>({height:0})},D=s=>{let y=[];for(let u of s)y.push({title:a(u==null?void 0:u.name),key:u._id,children:u.children.length>0&&D(u.children)});return y},O=(s,y)=>{var u;return s._id===y?s:(u=s==null?void 0:s.children)==null?void 0:u.reduce((_,E)=>_??O(E,y),void 0)},U=s=>{var u,_;const y=g==null?void 0:g.find(E=>E===s);if((g==null?void 0:g.length)===((_=(u=m[0])==null?void 0:u.children)==null?void 0:_.length))return F("This can't be select as a parent category!");if(y!==void 0)return F("This can't be select as a parent category!");if(s===n)return F("This can't be select as a parent category!");{if(s===void 0)return;R(s);const E=m[0],$=O(E,s);i(a($==null?void 0:$.name))}},G=`
  .rc-tree-child-tree {
    display: hidden;
  }
  .node-motion {
    transition: all .3s;
    overflow-y: hidden;
  }
`;return e.jsx(e.Fragment,{children:e.jsxs(te,{open:P,onClose:k,parent:null,level:null,placement:"right",children:[e.jsx("button",{onClick:d,className:"absolute z-50 text-red-500 hover:bg-red-100 hover:text-gray-700 transition-colors duration-150 bg-white shadow-md mr-6 mt-6 right-0 left-auto w-10 h-10 rounded-full block text-center",children:e.jsx(ce,{className:"mx-auto"})}),e.jsxs("div",{className:"flex flex-col w-full h-full justify-between",children:[e.jsx("div",{className:"w-full relative p-6 border-b border-gray-100 bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",children:e.jsx(re,{title:`Update Selected ${l}`,description:`Apply changes to the selected ${l} from the list`})}),e.jsx(de.Scrollbars,{className:"w-full md:w-7/12 lg:w-8/12 xl:w-8/12 relative dark:bg-gray-700 dark:text-gray-200",children:e.jsxs("form",{onSubmit:V(L),className:"block",children:[e.jsxs("div",{className:"px-6 pt-8 flex-grow w-full h-full max-h-full pb-40 md:pb-32 lg:pb-32 xl:pb-32",children:[l==="Products"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(o,{label:"Categorys"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(ne,{lang:b,selectedCategory:z,setSelectedCategory:K,setDefaultCategory:A})})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(o,{label:"Default Category"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(ie,{displayValue:"name",isObject:!0,singleSelect:!0,ref:q,hidePlaceholder:!0,onKeyPressFn:function(){},onRemove:function(){},onSearch:function(){},onSelect:s=>A(s),selectedValues:H,options:z,placeholder:"Default Category"})})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(o,{label:"Published"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(T,{handleProcess:j,processOption:f}),e.jsx(C,{errorName:x.status})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(o,{label:"Product Tags"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(oe,{placeholder:"Product Tag (Write then press enter to add new tag )",tags:t,onChange:s=>B(s)})})]})]}),l==="Coupons"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(o,{label:"Start Time"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(N.Input,{...h("startTime",{required:"Coupon Validation Start Time"}),label:"Coupon Validation Start Time",name:"startTime",type:"datetime-local",placeholder:"Start Time"}),e.jsx(C,{errorName:x.startTime})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(o,{label:"End Time"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(N.Input,{...h("endTime",{required:"Coupon Validation End Time"}),label:"Coupon Validation End Time",name:"endTime",type:"datetime-local",placeholder:"End Time"}),e.jsx(C,{errorName:x.endTime})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(o,{label:"Published"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(T,{handleProcess:j,processOption:f}),e.jsx(C,{errorName:x.published})]})]})]}),l==="Languages"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(o,{label:"Published"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(T,{title:"",processOption:f,handleProcess:j})})]})}),l==="Currencies"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(o,{label:"Enabled"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(T,{title:"",processOption:f,handleProcess:j})})]})}),l==="Categories"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(o,{label:"Description"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(Q,{required:!0,register:h,label:"Description",name:"description",type:"text",placeholder:"Category Description"}),e.jsx(C,{errorName:x.description})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(o,{label:"Parent Category"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(N.Input,{readOnly:!0,...h("parent",{required:!1}),name:"parent",value:w||"Home",placeholder:"parent category",type:"text"}),e.jsxs("div",{className:"draggable-demo capitalize",children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:G}}),e.jsx(J,{treeData:D(m),selectedKeys:[I],onSelect:s=>U(s[0]),motion:r,animation:"slide-up"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(o,{label:"Published"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(T,{title:"",processOption:f,handleProcess:j})})]})]}),l==="Child Categories"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(o,{label:"Description"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(Q,{required:!0,register:h,label:"Description",name:"description",type:"text",placeholder:"Category Description"}),e.jsx(C,{errorName:x.description})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(o,{label:"Parent Category"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(N.Input,{readOnly:!0,...h("parent",{required:!1}),name:"parent",value:w||"Home",placeholder:"parent category",type:"text"}),e.jsxs("div",{className:"draggable-demo capitalize",children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:G}}),e.jsx(J,{treeData:D(m),selectedKeys:[I],onSelect:s=>U(s[0]),motion:r,animation:"slide-up"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(o,{label:"Published"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(T,{title:"",processOption:f,handleProcess:j})})]})]}),l==="Attributes"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(o,{label:"Options"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsxs(N.Select,{name:"option",...h("option",{required:"Option is required!"}),children:[e.jsx("option",{value:"",defaultValue:!0,hidden:!0,children:"Select type"}),e.jsx("option",{value:"Dropdown",children:"Dropdown"}),e.jsx("option",{value:"Radio",children:"Radio"})]}),e.jsx(C,{errorName:x.option})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(o,{label:"Published"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(T,{title:"",processOption:f,handleProcess:j})})]})]}),l==="Attribute Value(s)"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(o,{label:"Change Attribute Group"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsxs(N.Select,{name:"groupName",...h("groupName",{required:!1}),children:[e.jsx("option",{value:"",defaultValue:!0,hidden:!0,children:"Select Attribute Group"}),c==null?void 0:c.map((s,y)=>e.jsx("option",{value:s._id,children:a(s==null?void 0:s.name)},y+1))]}),e.jsx(C,{errorName:x.groupName})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(o,{label:"Published"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(T,{title:"",processOption:f,handleProcess:j})})]})]})]}),e.jsxs("div",{className:"fixed bottom-0 w-full right-0 py-4 lg:py-8 px-6 grid gap-4 lg:gap-6 xl:gap-6 md:flex xl:flex bg-gray-50 border-t border-gray-100 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",children:[e.jsx("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:e.jsx(N.Button,{onClick:d,className:" text-red-500 hover:bg-red-50 hover:border-red-100 hover:text-red-600 dark:bg-gray-700 dark:border-gray-700 dark:text-gray-500 dark:hover:bg-gray-800 dark:hover:text-red-700",layout:"outline",children:"Cancel"})}),e.jsx("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:e.jsxs(N.Button,{type:"submit",className:"h-12 w-full",children:[" ","Bulk Update ",l]})})]})]})})]})]})})};export{Fe as B,De as C,Ee as S,Q as T};
