import{j as e,b as Z,r as p,S as K,d as N}from"./index-35132dbf.js";import{a as ee}from"./index.prod-b5f8a363.js";import{C as se,P as ae,A as W}from"./themeServices-7a63afca.js";import{a as X}from"./EditDeleteButton-aaac1dbb.js";import{C as Y}from"./CurrencyServices-cb13d5c3.js";import{L as te}from"./LanguageServices-a4414b40.js";import{n as y,a as I}from"./toast-88e31b8a.js";import{P as re,M as le,R as oe,T as J}from"./ParentCategory-9405815e.js";import{a as ne,T as ie}from"./DrawerButton-47c5ce57.js";import{i as ce,l as de}from"./Layout-58d04a11.js";import{u as pe,E as S}from"./index.esm-1dd47140.js";import{L as l}from"./LabelArea-f1054666.js";import{S as w}from"./SwitchToggle-adf5fdd7.js";import{T as Q}from"./TextAreaCom-e66d7f48.js";import"./httpService-c850ee12.js";import{u as ge}from"./useUtilsFunction-8b6770d5.js";const Ee=({id:T,name:n,type:C,handleClick:j,isChecked:i})=>e.jsx(e.Fragment,{children:e.jsx("input",{id:T,name:n,type:C,onChange:j,checked:i})}),Ie=({id:T,status:n,category:C,currencyStatusName:j})=>{const i=Z(),{setIsUpdate:c}=p.useContext(K),m=async d=>{var P,k;try{let a;if(n==="show"?a="hide":a="show",i.pathname==="/categories"||C){const t=await se.updateStatus(d,{status:a});c(!0),y(t.message)}if(i.pathname==="/products"){const t=await ae.updateStatus(d,{status:a});c(!0),y(t.message)}if(i.pathname==="/languages"){const t=await te.updateStatus(d,{status:a});c(!0),y(t.message)}if(i.pathname==="/currencies")if(j==="status"){const t=await Y.updateEnabledStatus(d,{status:a});c(!0),y(t.message)}else{const t=await Y.updateLiveExchangeRateStatus(d,{live_exchange_rates:a});c(!0),y(t.message)}if(i.pathname==="/attributes"){const t=await W.updateStatus(d,{status:a});c(!0),y(t.message)}if(i.pathname===`/attributes/${i.pathname.split("/")[2]}`){const t=await W.updateChildStatus(d,{status:a});c(!0),y(t.message)}if(i.pathname==="/coupons"){const t=await X.updateStatus(d,{status:a});c(!0),y(t.message)}if(i.pathname==="/our-staff"){const t=await X.updateStaffStatus(d,{status:a});c(!0),y(t.message)}}catch(a){I(a?(k=(P=a==null?void 0:a.response)==null?void 0:P.data)==null?void 0:k.message:a==null?void 0:a.message)}};return e.jsx(ee,{onChange:()=>m(T),checked:n==="show",className:"react-switch md:ml-0",uncheckedIcon:e.jsx("div",{style:{display:"flex",alignItems:"center",height:"100%",width:120,fontSize:14,color:"white",paddingRight:22,paddingTop:1}}),width:30,height:15,handleDiameter:13,offColor:"#E53E3E",onColor:"#2F855A",checkedIcon:e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:73,height:"100%",fontSize:14,color:"white",paddingLeft:20,paddingTop:1}})})},me=(T,n="en",C)=>{const[j,i]=p.useState(""),[c,m]=p.useState([]);Z();const[d,P]=p.useState(""),[k,a]=p.useState(!0),[t,B]=p.useState(!0),[f,u]=p.useState([]),[L,h]=p.useState([]),[A,R]=p.useState(!1),[V,q]=p.useState(""),{isBulkDrawerOpen:x,closeBulkDrawer:z,setIsUpdate:$}=p.useContext(K),{register:H,handleSubmit:F,watch:v,setValue:o,clearErrors:r,formState:{errors:D}}=pe(),O=async U=>I("This feature is disabled for demo!");return p.useEffect(()=>{if(!x){o("parent"),o("children"),o("type"),o("show"),o("name"),i(""),m([]),r("parent"),r("children"),r("type"),r("name"),o("name"),o("iso_code"),o("call_prefix"),o("currency"),o("zone"),r("name"),r("iso_code"),r("call_prefix"),r("currency"),r("zone"),r("status"),o("name"),o("iso_code"),o("country"),o("zone"),o("description"),r("name"),r("iso_code"),r("country"),r("zone"),r("status"),r("show"),r("description"),h([]),u([]);return}},[o,x,r]),p.useEffect(()=>{i(v("children"))},[v,j]),{register:H,watch:v,handleSubmit:F,onSubmit:O,errors:D,tag:c,setTag:m,published:k,setPublished:a,published2:t,setPublished2:B,checked:d,setChecked:P,selectedCategory:f,setSelectedCategory:u,defaultCategory:L,setDefaultCategory:h,selectCategoryName:V,setSelectCategoryName:q,isFoodItem:A,setIsFoodItem:R}},Ae=({ids:T,title:n,lang:C,data:j,childId:i,attributes:c,isCheck:m})=>{const{toggleBulkDrawer:d,isBulkDrawerOpen:P,closeBulkDrawer:k}=p.useContext(K),{showingTranslateValue:a}=ge(),{tag:t,setTag:B,published:f,register:u,onSubmit:L,errors:h,checked:A,setChecked:R,resetRefTwo:V,handleSubmit:q,setPublished:x,selectedCategory:z,setSelectedCategory:$,defaultCategory:H,setDefaultCategory:F,selectCategoryName:v,setSelectCategoryName:o}=me(T,C),r={motionName:"node-motion",motionAppear:!1,onAppearStart:s=>({height:0}),onAppearActive:s=>({height:s.scrollHeight}),onLeaveStart:s=>({height:s.offsetHeight}),onLeaveActive:()=>({height:0})},D=s=>{let b=[];for(let g of s)b.push({title:a(g==null?void 0:g.name),key:g._id,children:g.children.length>0&&D(g.children)});return b},O=(s,b)=>{var g;return s._id===b?s:(g=s==null?void 0:s.children)==null?void 0:g.reduce((_,E)=>_??O(E,b),void 0)},U=s=>{var g,_;const b=m==null?void 0:m.find(E=>E===s);if((m==null?void 0:m.length)===((_=(g=j[0])==null?void 0:g.children)==null?void 0:_.length))return I("This can't be select as a parent category!");if(b!==void 0)return I("This can't be select as a parent category!");if(s===i)return I("This can't be select as a parent category!");{if(s===void 0)return;R(s);const E=j[0],M=O(E,s);o(a(M==null?void 0:M.name))}},G=`
  .rc-tree-child-tree {
    display: hidden;
  }
  .node-motion {
    transition: all .3s;
    overflow-y: hidden;
  }
`;return e.jsx(e.Fragment,{children:e.jsxs(ne,{open:P,onClose:k,parent:null,level:null,placement:"right",children:[e.jsx("button",{onClick:d,className:"absolute z-50 text-red-500 hover:bg-red-100 hover:text-gray-700 transition-colors duration-150 bg-white shadow-md mr-6 mt-6 right-0 left-auto w-10 h-10 rounded-full block text-center",children:e.jsx(ce,{className:"mx-auto"})}),e.jsxs("div",{className:"flex flex-col w-full h-full justify-between",children:[e.jsx("div",{className:"w-full relative p-6 border-b border-gray-100 bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",children:e.jsx(ie,{title:`Update Selected ${n}`,description:`Apply changes to the selected ${n} from the list`})}),e.jsx(de.Scrollbars,{className:"w-full md:w-7/12 lg:w-8/12 xl:w-8/12 relative dark:bg-gray-700 dark:text-gray-200",children:e.jsxs("form",{onSubmit:q(L),className:"block",children:[e.jsxs("div",{className:"px-6 pt-8 flex-grow w-full h-full max-h-full pb-40 md:pb-32 lg:pb-32 xl:pb-32",children:[n==="Products"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(l,{label:"Categorys"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(re,{lang:C,selectedCategory:z,setSelectedCategory:$,setDefaultCategory:F})})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(l,{label:"Default Category"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(le,{displayValue:"name",isObject:!0,singleSelect:!0,ref:V,hidePlaceholder:!0,onKeyPressFn:function(){},onRemove:function(){},onSearch:function(){},onSelect:s=>F(s),selectedValues:H,options:z,placeholder:"Default Category"})})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(l,{label:"Published"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(w,{handleProcess:x,processOption:f}),e.jsx(S,{errorName:h.status})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(l,{label:"Product Tags"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(oe,{placeholder:"Product Tag (Write then press enter to add new tag )",tags:t,onChange:s=>B(s)})})]})]}),n==="Coupons"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(l,{label:"Start Time"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(N.Input,{...u("startTime",{required:"Coupon Validation Start Time"}),label:"Coupon Validation Start Time",name:"startTime",type:"datetime-local",placeholder:"Start Time"}),e.jsx(S,{errorName:h.startTime})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(l,{label:"End Time"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(N.Input,{...u("endTime",{required:"Coupon Validation End Time"}),label:"Coupon Validation End Time",name:"endTime",type:"datetime-local",placeholder:"End Time"}),e.jsx(S,{errorName:h.endTime})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(l,{label:"Published"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(w,{handleProcess:x,processOption:f}),e.jsx(S,{errorName:h.published})]})]})]}),n==="Languages"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(l,{label:"Published"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(w,{title:"",processOption:f,handleProcess:x})})]})}),n==="Currencies"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(l,{label:"Enabled"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(w,{title:"",processOption:f,handleProcess:x})})]})}),n==="Categories"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(l,{label:"Description"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(Q,{required:!0,register:u,label:"Description",name:"description",type:"text",placeholder:"Category Description"}),e.jsx(S,{errorName:h.description})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(l,{label:"Parent Category"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(N.Input,{readOnly:!0,...u("parent",{required:!1}),name:"parent",value:v||"Home",placeholder:"parent category",type:"text"}),e.jsxs("div",{className:"draggable-demo capitalize",children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:G}}),e.jsx(J,{treeData:D(j),selectedKeys:[A],onSelect:s=>U(s[0]),motion:r,animation:"slide-up"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(l,{label:"Published"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(w,{title:"",processOption:f,handleProcess:x})})]})]}),n==="Child Categories"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(l,{label:"Description"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(Q,{required:!0,register:u,label:"Description",name:"description",type:"text",placeholder:"Category Description"}),e.jsx(S,{errorName:h.description})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(l,{label:"Parent Category"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(N.Input,{readOnly:!0,...u("parent",{required:!1}),name:"parent",value:v||"Home",placeholder:"parent category",type:"text"}),e.jsxs("div",{className:"draggable-demo capitalize",children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:G}}),e.jsx(J,{treeData:D(j),selectedKeys:[A],onSelect:s=>U(s[0]),motion:r,animation:"slide-up"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(l,{label:"Published"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(w,{title:"",processOption:f,handleProcess:x})})]})]}),n==="Attributes"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(l,{label:"Options"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsxs(N.Select,{name:"option",...u("option",{required:"Option is required!"}),children:[e.jsx("option",{value:"",defaultValue:!0,hidden:!0,children:"Select type"}),e.jsx("option",{value:"Dropdown",children:"Dropdown"}),e.jsx("option",{value:"Radio",children:"Radio"})]}),e.jsx(S,{errorName:h.option})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(l,{label:"Published"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(w,{title:"",processOption:f,handleProcess:x})})]})]}),n==="Attribute Value(s)"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(l,{label:"Change Attribute Group"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsxs(N.Select,{name:"groupName",...u("groupName",{required:!1}),children:[e.jsx("option",{value:"",defaultValue:!0,hidden:!0,children:"Select Attribute Group"}),c==null?void 0:c.map((s,b)=>e.jsx("option",{value:s._id,children:a(s==null?void 0:s.name)},b+1))]}),e.jsx(S,{errorName:h.groupName})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(l,{label:"Published"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(w,{title:"",processOption:f,handleProcess:x})})]})]})]}),e.jsxs("div",{className:"fixed bottom-0 w-full right-0 py-4 lg:py-8 px-6 grid gap-4 lg:gap-6 xl:gap-6 md:flex xl:flex bg-gray-50 border-t border-gray-100 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",children:[e.jsx("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:e.jsx(N.Button,{onClick:d,className:" text-red-500 hover:bg-red-50 hover:border-red-100 hover:text-red-600 dark:bg-gray-700 dark:border-gray-700 dark:text-gray-500 dark:hover:bg-gray-800 dark:hover:text-red-700",layout:"outline",children:"Cancel"})}),e.jsx("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:e.jsxs(N.Button,{type:"submit",className:"h-12 w-full",children:[" ","Bulk Update ",n]})})]})]})})]})]})})};export{Ae as B,Ee as C,Ie as S};
