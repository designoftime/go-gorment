import{i as P,r as M,S as T,e as I,u as D,j as s,d as p,L as O}from"./index-98fd535f.js";import{e as E,h as R,d as S}from"./Layout-87024b42.js";import{s as q}from"./spinner-f39505bc.js";import{A as H}from"./AdminServices-47c0ce87.js";import{u as K,P as N,C as w,A as y}from"./DrawerButton-2986eec4.js";import{r as c}from"./httpService-32635d4a.js";import{L as $}from"./LanguageServices-b4694df4.js";import{C as A}from"./CurrencyServices-85dc4109.js";import{n as l,a as b}from"./toast-c2632e3f.js";import{T as h}from"./Tooltip-bf0c6fde.js";const B={addCoupon:async e=>c.post("/coupon/add",e),addAllCoupon:async e=>c.post("/coupon/add/all",e),getAllCoupons:async()=>c.get("/coupon"),getCouponById:async e=>c.get(`/coupon/${e}`),updateCoupon:async(e,o)=>c.put(`/coupon/${e}`,o),updateManyCoupons:async e=>c.patch("/coupon/update/many",e),updateStatus:async(e,o)=>c.put(`/coupon/status/${e}`,o),deleteCoupon:async e=>c.delete(`/coupon/${e}`),deleteManyCoupons:async e=>c.patch("/coupon/delete/many",e)},V={getAllCustomers:async({searchText:e=""})=>c.get(`/customer?searchText=${e}`),addAllCustomers:async e=>c.post("/customer/add/all",e),createCustomer:async e=>c.post("/customer/create",e),filterCustomer:async e=>c.post(`/customer/filter/${e}`),getCustomerById:async e=>c.get(`/customer/${e}`),updateCustomer:async(e,o)=>c.put(`/customer/${e}`,o),deleteCustomer:async e=>c.delete(`/customer/${e}`)},Z=({id:e,ids:o,setIsCheck:m,category:x,title:d,useParamId:j})=>{const{isModalOpen:f,closeModal:a,setIsUpdate:r}=M.useContext(T),{setServiceId:u}=K(),i=I(),[L,n]=M.useState(!1),F=async()=>{var C,v;try{if(n(!0),i.pathname==="/products")if(o){const t=await N.deleteManyProducts({ids:o});r(!0),l(t.message),m([]),u(),a(),n(!1)}else{const t=await N.deleteProduct(e);r(!0),l(t.message),u(),a(),n(!1)}if(i.pathname==="/coupons")if(o){const t=await B.deleteManyCoupons({ids:o});r(!0),l(t.message),m([]),u(),a(),n(!1)}else{const t=await B.deleteCoupon(e);r(!0),l(t.message),u(),a(),n(!1)}if(i.pathname==="/categories"||x)if(o){const t=await w.deleteManyCategory({ids:o});r(!0),l(t.message),m([]),u(),a(),n(!1)}else{if(e===void 0||!e)return b("Please select a category first!"),n(!1),a();const t=await w.deleteCategory(e);r(!0),l(t.message),a(),u(),n(!1)}else if(i.pathname===`/categories/${j}`||x){if(e===void 0||!e)return b("Please select a category first!"),n(!1),a();const t=await w.deleteCategory(e);r(!0),l(t.message),a(),u(),n(!1)}if(i.pathname==="/customers"){const t=await V.deleteCustomer(e);r(!0),l(t.message),u(),a(),n(!1)}if(i.pathname==="/attributes")if(o){const t=await y.deleteManyAttribute({ids:o});r(!0),l(t.message),m([]),u(),a(),n(!1)}else{const t=await y.deleteAttribute(e);r(!0),l(t.message),u(),a(),n(!1)}if(i.pathname===`/attributes/${i.pathname.split("/")[2]}`)if(o){const t=await y.deleteManyChildAttribute({id:i.pathname.split("/")[2],ids:o});r(!0),l(t.message),u(),m([]),a(),n(!1)}else{const t=await y.deleteChildAttribute({id:e,ids:i.pathname.split("/")[2]});r(!0),l(t.message),u(),a(),n(!1)}if(i.pathname==="/our-staff"){const t=await H.deleteStaff(e);r(!0),l(t.message),u(),a(),n(!1)}if(i.pathname==="/languages")if(o){const t=await $.deleteManyLanguage({ids:o});r(!0),l(t.message),m([]),a(),n(!1)}else{const t=await $.deleteLanguage(e);r(!0),l(t.message),u(),a(),n(!1)}if(i.pathname==="/currencies")if(o){const t=await A.deleteManyCurrency({ids:o});r(!0),l(t.message),m([]),a(),n(!1)}else{const t=await A.deleteCurrency(e);r(!0),l(t.message),u(),a(),n(!1)}}catch(t){b(t?(v=(C=t==null?void 0:t.response)==null?void 0:C.data)==null?void 0:v.message:t==null?void 0:t.message),u(),m([]),a(),n(!1)}},{t:g}=D();return s.jsx(s.Fragment,{children:s.jsxs(p.Modal,{isOpen:f,onClose:a,children:[s.jsxs(p.ModalBody,{className:"text-center custom-modal px-8 pt-6 pb-4",children:[s.jsx("span",{className:"flex justify-center text-3xl mb-6 text-red-500",children:s.jsx(E,{})}),s.jsxs("h2",{className:"text-xl font-medium mb-2",children:[g("DeleteModalH2")," ",s.jsx("span",{className:"text-red-500",children:d}),"?"]}),s.jsx("p",{children:g("DeleteModalPtag")})]}),s.jsxs(p.ModalFooter,{className:"justify-center",children:[s.jsx(p.Button,{className:"w-full sm:w-auto hover:bg-white hover:border-gray-50",layout:"outline",onClick:a,children:g("modalKeepBtn")}),s.jsx("div",{className:"flex justify-end",children:L?s.jsxs(p.Button,{disabled:!0,type:"button",className:"w-full h-12 sm:w-auto",children:[s.jsx("img",{src:q,alt:"Loading",width:20,height:10})," ",s.jsx("span",{className:"font-serif ml-2 font-light",children:g("Processing")})]}):s.jsx(p.Button,{onClick:F,className:"w-full h-12 sm:w-auto",children:g("modalDeletBtn")})})]})]})})},ee=P.memo(Z),te=({id:e,title:o,handleUpdate:m,handleModalOpen:x,isCheck:d,product:j,parent:f,children:a})=>{const{t:r}=D();return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex justify-end text-right",children:[(a==null?void 0:a.length)>0?s.jsxs(s.Fragment,{children:[s.jsx(O,{to:`/categories/${f==null?void 0:f._id}`,className:"p-2 cursor-pointer text-gray-400 hover:text-emerald-600 focus:outline-none",children:s.jsx(h,{id:"view",Icon:R,title:r("View"),bgColor:"#10B981"})}),s.jsx("button",{disabled:(d==null?void 0:d.length)>0,onClick:()=>m(e),className:"p-2 cursor-pointer text-gray-400 hover:text-emerald-600 focus:outline-none",children:s.jsx(h,{id:"edit",Icon:S,title:r("Edit"),bgColor:"#10B981"})})]}):s.jsx("button",{disabled:(d==null?void 0:d.length)>0,onClick:()=>m(e),className:"p-2 cursor-pointer text-gray-400 hover:text-emerald-600 focus:outline-none",children:s.jsx(h,{id:"edit",Icon:S,title:r("Edit"),bgColor:"#10B981"})}),s.jsx("button",{disabled:(d==null?void 0:d.length)>0,onClick:()=>x(e,o,j),className:"p-2 cursor-pointer text-gray-400 hover:text-red-600 focus:outline-none",children:s.jsx(h,{id:"delete",Icon:E,title:r("Delete"),bgColor:"#EF4444"})})]})})};export{V as C,ee as D,te as E,B as a};
