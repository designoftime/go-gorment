import{P as A,r as p,i as hn,Q as vn,j as C,g as yn,t as At}from"./index-92489dc1.js";import{r as mn,a as bn}from"./httpService-83106016.js";import{a as ae,b as oe,c as kt,d as xt}from"./tslib.es6-1fe07526.js";import{s as Rr,r as Dn}from"./Layout-fc45d433.js";import{u as On,S as Sn}from"./SettingServices-3423f927.js";import{a as V,n as Tn}from"./toast-5883b321.js";import{$ as wn}from"./index-a5612e01.js";var In=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function de(e,r){var t=Cn(e);if(typeof t.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof r=="string"?r:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return t}function Cn(e){var r=e.name,t=r&&r.lastIndexOf(".")!==-1;if(t&&!e.type){var n=r.split(".").pop().toLowerCase(),i=In.get(n);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}var En=[".DS_Store","Thumbs.db"];function _n(e){return ae(this,void 0,void 0,function(){return oe(this,function(r){return Ee(e)&&Pn(e.dataTransfer)?[2,$n(e.dataTransfer,e.type)]:An(e)?[2,kn(e)]:Array.isArray(e)&&e.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,xn(e)]:[2,[]]})})}function Pn(e){return Ee(e)}function An(e){return Ee(e)&&Ee(e.target)}function Ee(e){return typeof e=="object"&&e!==null}function kn(e){return et(e.target.files).map(function(r){return de(r)})}function xn(e){return ae(this,void 0,void 0,function(){var r;return oe(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return r=t.sent(),[2,r.map(function(n){return de(n)})]}})})}function $n(e,r){return ae(this,void 0,void 0,function(){var t,n;return oe(this,function(i){switch(i.label){case 0:return e.items?(t=et(e.items).filter(function(a){return a.kind==="file"}),r!=="drop"?[2,t]:[4,Promise.all(t.map(Rn))]):[3,2];case 1:return n=i.sent(),[2,$t(Mr(n))];case 2:return[2,$t(et(e.files).map(function(a){return de(a)}))]}})})}function $t(e){return e.filter(function(r){return En.indexOf(r.name)===-1})}function et(e){if(e===null)return[];for(var r=[],t=0;t<e.length;t++){var n=e[t];r.push(n)}return r}function Rn(e){if(typeof e.webkitGetAsEntry!="function")return Rt(e);var r=e.webkitGetAsEntry();return r&&r.isDirectory?Nr(r):Rt(e)}function Mr(e){return e.reduce(function(r,t){return kt(kt([],xt(r),!1),xt(Array.isArray(t)?Mr(t):[t]),!1)},[])}function Rt(e){var r=e.getAsFile();if(!r)return Promise.reject("".concat(e," is not a File"));var t=de(r);return Promise.resolve(t)}function Mn(e){return ae(this,void 0,void 0,function(){return oe(this,function(r){return[2,e.isDirectory?Nr(e):Nn(e)]})})}function Nr(e){var r=e.createReader();return new Promise(function(t,n){var i=[];function a(){var o=this;r.readEntries(function(u){return ae(o,void 0,void 0,function(){var s,f,g;return oe(this,function(h){switch(h.label){case 0:if(u.length)return[3,5];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return s=h.sent(),t(s),[3,4];case 3:return f=h.sent(),n(f),[3,4];case 4:return[3,6];case 5:g=Promise.all(u.map(Mn)),i.push(g),a(),h.label=6;case 6:return[2]}})})},function(u){n(u)})}a()})}function Nn(e){return ae(this,void 0,void 0,function(){return oe(this,function(r){return[2,new Promise(function(t,n){e.file(function(i){var a=de(i,e.fullPath);t(a)},function(i){n(i)})})]})})}var jn=function(e,r){if(e&&r){var t=Array.isArray(r)?r:r.split(","),n=e.name||"",i=(e.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return t.some(function(o){var u=o.trim().toLowerCase();return u.charAt(0)==="."?n.toLowerCase().endsWith(u):u.endsWith("/*")?a===u.replace(/\/.*$/,""):i===u})}return!0};function Mt(e){return Hn(e)||Ln(e)||Fr(e)||Fn()}function Fn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ln(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hn(e){if(Array.isArray(e))return tt(e)}function Nt(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function jt(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Nt(Object(t),!0).forEach(function(n){jr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Nt(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function jr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function fe(e,r){return qn(e)||Un(e,r)||Fr(e,r)||zn()}function zn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fr(e,r){if(e){if(typeof e=="string")return tt(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return tt(e,r)}}function tt(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Un(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,o,u;try{for(t=t.call(e);!(i=(o=t.next()).done)&&(n.push(o.value),!(r&&n.length===r));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw u}}return n}}function qn(e){if(Array.isArray(e))return e}var Wn="file-invalid-type",Bn="file-too-large",Kn="file-too-small",Gn="too-many-files",Yn=function(r){r=Array.isArray(r)&&r.length===1?r[0]:r;var t=Array.isArray(r)?"one of ".concat(r.join(", ")):r;return{code:Wn,message:"File type must be ".concat(t)}},Ft=function(r){return{code:Bn,message:"File is larger than ".concat(r," ").concat(r===1?"byte":"bytes")}},Lt=function(r){return{code:Kn,message:"File is smaller than ".concat(r," ").concat(r===1?"byte":"bytes")}},Xn={code:Gn,message:"Too many files"};function Lr(e,r){var t=e.type==="application/x-moz-file"||jn(e,r);return[t,t?null:Yn(r)]}function Hr(e,r,t){if(Q(e.size))if(Q(r)&&Q(t)){if(e.size>t)return[!1,Ft(t)];if(e.size<r)return[!1,Lt(r)]}else{if(Q(r)&&e.size<r)return[!1,Lt(r)];if(Q(t)&&e.size>t)return[!1,Ft(t)]}return[!0,null]}function Q(e){return e!=null}function Vn(e){var r=e.files,t=e.accept,n=e.minSize,i=e.maxSize,a=e.multiple,o=e.maxFiles,u=e.validator;return!a&&r.length>1||a&&o>=1&&r.length>o?!1:r.every(function(s){var f=Lr(s,t),g=fe(f,1),h=g[0],D=Hr(s,n,i),O=fe(D,1),_=O[0],M=u?u(s):null;return h&&_&&!M})}function _e(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function be(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(r){return r==="Files"||r==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Ht(e){e.preventDefault()}function Qn(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function Jn(e){return e.indexOf("Edge/")!==-1}function Zn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Qn(e)||Jn(e)}function G(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(n){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return r.some(function(u){return!_e(n)&&u&&u.apply(void 0,[n].concat(a)),_e(n)})}}function ei(){return"showOpenFilePicker"in window}function ti(e){if(Q(e)){var r=Object.entries(e).filter(function(t){var n=fe(t,2),i=n[0],a=n[1],o=!0;return zr(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(a)||!a.every(Ur))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(t,n){var i=fe(n,2),a=i[0],o=i[1];return jt(jt({},t),{},jr({},a,o))},{});return[{description:"Files",accept:r}]}return e}function ri(e){if(Q(e))return Object.entries(e).reduce(function(r,t){var n=fe(t,2),i=n[0],a=n[1];return[].concat(Mt(r),[i],Mt(a))},[]).filter(function(r){return zr(r)||Ur(r)}).join(",")}function ni(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function ii(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function zr(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function Ur(e){return/^.*\.[\w]+$/.test(e)}var ai=["children"],oi=["open"],ui=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],si=["refKey","onChange","onClick"];function ci(e){return di(e)||fi(e)||qr(e)||li()}function li(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fi(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function di(e){if(Array.isArray(e))return rt(e)}function Ke(e,r){return hi(e)||pi(e,r)||qr(e,r)||gi()}function gi(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qr(e,r){if(e){if(typeof e=="string")return rt(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return rt(e,r)}}function rt(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function pi(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,o,u;try{for(t=t.call(e);!(i=(o=t.next()).done)&&(n.push(o.value),!(r&&n.length===r));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw u}}return n}}function hi(e){if(Array.isArray(e))return e}function zt(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function x(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?zt(Object(t),!0).forEach(function(n){nt(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):zt(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function nt(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Pe(e,r){if(e==null)return{};var t=vi(e,r),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function vi(e,r){if(e==null)return{};var t={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(r.indexOf(i)>=0)&&(t[i]=e[i]);return t}var dt=p.forwardRef(function(e,r){var t=e.children,n=Pe(e,ai),i=Br(n),a=i.open,o=Pe(i,oi);return p.useImperativeHandle(r,function(){return{open:a}},[a]),hn.createElement(p.Fragment,null,t(x(x({},o),{},{open:a})))});dt.displayName="Dropzone";var Wr={disabled:!1,getFilesFromEvent:_n,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};dt.defaultProps=Wr;dt.propTypes={children:A.func,accept:A.objectOf(A.arrayOf(A.string)),multiple:A.bool,preventDropOnDocument:A.bool,noClick:A.bool,noKeyboard:A.bool,noDrag:A.bool,noDragEventsBubbling:A.bool,minSize:A.number,maxSize:A.number,maxFiles:A.number,disabled:A.bool,getFilesFromEvent:A.func,onFileDialogCancel:A.func,onFileDialogOpen:A.func,useFsAccessApi:A.bool,autoFocus:A.bool,onDragEnter:A.func,onDragLeave:A.func,onDragOver:A.func,onDrop:A.func,onDropAccepted:A.func,onDropRejected:A.func,onError:A.func,validator:A.func};var it={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Br(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=x(x({},Wr),e),t=r.accept,n=r.disabled,i=r.getFilesFromEvent,a=r.maxSize,o=r.minSize,u=r.multiple,s=r.maxFiles,f=r.onDragEnter,g=r.onDragLeave,h=r.onDragOver,D=r.onDrop,O=r.onDropAccepted,_=r.onDropRejected,M=r.onFileDialogCancel,k=r.onFileDialogOpen,S=r.useFsAccessApi,E=r.autoFocus,I=r.preventDropOnDocument,P=r.noClick,$=r.noKeyboard,U=r.noDrag,c=r.noDragEventsBubbling,l=r.onError,m=r.validator,T=p.useMemo(function(){return ri(t)},[t]),w=p.useMemo(function(){return ti(t)},[t]),R=p.useMemo(function(){return typeof k=="function"?k:Ut},[k]),N=p.useMemo(function(){return typeof M=="function"?M:Ut},[M]),F=p.useRef(null),L=p.useRef(null),Ne=p.useReducer(yi,it),bt=Ke(Ne,2),je=bt[0],q=bt[1],ln=je.isFocused,Dt=je.isFileDialogActive,ge=p.useRef(typeof window<"u"&&window.isSecureContext&&S&&ei()),Ot=function(){!ge.current&&Dt&&setTimeout(function(){if(L.current){var v=L.current.files;v.length||(q({type:"closeDialog"}),N())}},300)};p.useEffect(function(){return window.addEventListener("focus",Ot,!1),function(){window.removeEventListener("focus",Ot,!1)}},[L,Dt,N,ge]);var Z=p.useRef([]),St=function(v){F.current&&F.current.contains(v.target)||(v.preventDefault(),Z.current=[])};p.useEffect(function(){return I&&(document.addEventListener("dragover",Ht,!1),document.addEventListener("drop",St,!1)),function(){I&&(document.removeEventListener("dragover",Ht),document.removeEventListener("drop",St))}},[F,I]),p.useEffect(function(){return!n&&E&&F.current&&F.current.focus(),function(){}},[F,E,n]);var X=p.useCallback(function(d){l?l(d):console.error(d)},[l]),Tt=p.useCallback(function(d){d.preventDefault(),d.persist(),ye(d),Z.current=[].concat(ci(Z.current),[d.target]),be(d)&&Promise.resolve(i(d)).then(function(v){if(!(_e(d)&&!c)){var j=v.length,H=j>0&&Vn({files:v,accept:T,minSize:o,maxSize:a,multiple:u,maxFiles:s,validator:m}),W=j>0&&!H;q({isDragAccept:H,isDragReject:W,isDragActive:!0,type:"setDraggedFiles"}),f&&f(d)}}).catch(function(v){return X(v)})},[i,f,X,c,T,o,a,u,s,m]),wt=p.useCallback(function(d){d.preventDefault(),d.persist(),ye(d);var v=be(d);if(v&&d.dataTransfer)try{d.dataTransfer.dropEffect="copy"}catch{}return v&&h&&h(d),!1},[h,c]),It=p.useCallback(function(d){d.preventDefault(),d.persist(),ye(d);var v=Z.current.filter(function(H){return F.current&&F.current.contains(H)}),j=v.indexOf(d.target);j!==-1&&v.splice(j,1),Z.current=v,!(v.length>0)&&(q({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),be(d)&&g&&g(d))},[F,g,c]),pe=p.useCallback(function(d,v){var j=[],H=[];d.forEach(function(W){var se=Lr(W,T),re=Ke(se,2),Le=re[0],He=re[1],ze=Hr(W,o,a),me=Ke(ze,2),Ue=me[0],qe=me[1],We=m?m(W):null;if(Le&&Ue&&!We)j.push(W);else{var Be=[He,qe];We&&(Be=Be.concat(We)),H.push({file:W,errors:Be.filter(function(pn){return pn})})}}),(!u&&j.length>1||u&&s>=1&&j.length>s)&&(j.forEach(function(W){H.push({file:W,errors:[Xn]})}),j.splice(0)),q({acceptedFiles:j,fileRejections:H,type:"setFiles"}),D&&D(j,H,v),H.length>0&&_&&_(H,v),j.length>0&&O&&O(j,v)},[q,u,T,o,a,s,D,O,_,m]),he=p.useCallback(function(d){d.preventDefault(),d.persist(),ye(d),Z.current=[],be(d)&&Promise.resolve(i(d)).then(function(v){_e(d)&&!c||pe(v,d)}).catch(function(v){return X(v)}),q({type:"reset"})},[i,pe,X,c]),ee=p.useCallback(function(){if(ge.current){q({type:"openDialog"}),R();var d={multiple:u,types:w};window.showOpenFilePicker(d).then(function(v){return i(v)}).then(function(v){pe(v,null),q({type:"closeDialog"})}).catch(function(v){ni(v)?(N(v),q({type:"closeDialog"})):ii(v)?(ge.current=!1,L.current?(L.current.value=null,L.current.click()):X(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):X(v)});return}L.current&&(q({type:"openDialog"}),R(),L.current.value=null,L.current.click())},[q,R,N,S,pe,X,w,u]),Ct=p.useCallback(function(d){!F.current||!F.current.isEqualNode(d.target)||(d.key===" "||d.key==="Enter"||d.keyCode===32||d.keyCode===13)&&(d.preventDefault(),ee())},[F,ee]),Et=p.useCallback(function(){q({type:"focus"})},[]),_t=p.useCallback(function(){q({type:"blur"})},[]),Pt=p.useCallback(function(){P||(Zn()?setTimeout(ee,0):ee())},[P,ee]),te=function(v){return n?null:v},Fe=function(v){return $?null:te(v)},ve=function(v){return U?null:te(v)},ye=function(v){c&&v.stopPropagation()},fn=p.useMemo(function(){return function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},v=d.refKey,j=v===void 0?"ref":v,H=d.role,W=d.onKeyDown,se=d.onFocus,re=d.onBlur,Le=d.onClick,He=d.onDragEnter,ze=d.onDragOver,me=d.onDragLeave,Ue=d.onDrop,qe=Pe(d,ui);return x(x(nt({onKeyDown:Fe(G(W,Ct)),onFocus:Fe(G(se,Et)),onBlur:Fe(G(re,_t)),onClick:te(G(Le,Pt)),onDragEnter:ve(G(He,Tt)),onDragOver:ve(G(ze,wt)),onDragLeave:ve(G(me,It)),onDrop:ve(G(Ue,he)),role:typeof H=="string"&&H!==""?H:"presentation"},j,F),!n&&!$?{tabIndex:0}:{}),qe)}},[F,Ct,Et,_t,Pt,Tt,wt,It,he,$,U,n]),dn=p.useCallback(function(d){d.stopPropagation()},[]),gn=p.useMemo(function(){return function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},v=d.refKey,j=v===void 0?"ref":v,H=d.onChange,W=d.onClick,se=Pe(d,si),re=nt({accept:T,multiple:u,type:"file",style:{display:"none"},onChange:te(G(H,he)),onClick:te(G(W,dn)),tabIndex:-1},j,L);return x(x({},re),se)}},[L,t,u,he,n]);return x(x({},je),{},{isFocused:ln&&!n,getRootProps:fn,getInputProps:gn,rootRef:F,inputRef:L,open:te(ee)})}function yi(e,r){switch(r.type){case"focus":return x(x({},e),{},{isFocused:!0});case"blur":return x(x({},e),{},{isFocused:!1});case"openDialog":return x(x({},it),{},{isFileDialogActive:!0});case"closeDialog":return x(x({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return x(x({},e),{},{isDragActive:r.isDragActive,isDragAccept:r.isDragAccept,isDragReject:r.isDragReject});case"setFiles":return x(x({},e),{},{acceptedFiles:r.acceptedFiles,fileRejections:r.fileRejections});case"reset":return x({},it);default:return e}}function Ut(){}var Kr=p.createContext({dragDropManager:void 0}),K;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(K||(K={}));function y(e,r){for(var t=arguments.length,n=new Array(t>2?t-2:0),i=2;i<t;i++)n[i-2]=arguments[i];if(!e){var a;if(r===void 0)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;a=new Error(r.replace(/%s/g,function(){return n[o++]})),a.name="Invariant Violation"}throw a.framesToPop=1,a}}var gt="dnd-core/INIT_COORDS",ke="dnd-core/BEGIN_DRAG",pt="dnd-core/PUBLISH_DRAG_SOURCE",xe="dnd-core/HOVER",$e="dnd-core/DROP",Re="dnd-core/END_DRAG";function qt(e,r){return{type:gt,payload:{sourceClientOffset:r||null,clientOffset:e||null}}}function Se(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Se=function(t){return typeof t}:Se=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Se(e)}function mi(e,r,t){return r.split(".").reduce(function(n,i){return n&&n[i]?n[i]:t||null},e)}function bi(e,r){return e.filter(function(t){return t!==r})}function Gr(e){return Se(e)==="object"}function Di(e,r){var t=new Map,n=function(o){t.set(o,t.has(o)?t.get(o)+1:1)};e.forEach(n),r.forEach(n);var i=[];return t.forEach(function(a,o){a===1&&i.push(o)}),i}function Oi(e,r){return e.filter(function(t){return r.indexOf(t)>-1})}var Si={type:gt,payload:{clientOffset:null,sourceClientOffset:null}};function Ti(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{publishSource:!0},i=n.publishSource,a=i===void 0?!0:i,o=n.clientOffset,u=n.getSourceClientOffset,s=e.getMonitor(),f=e.getRegistry();e.dispatch(qt(o)),wi(t,s,f);var g=Ei(t,s);if(g===null){e.dispatch(Si);return}var h=null;if(o){if(!u)throw new Error("getSourceClientOffset must be defined");Ii(u),h=u(g)}e.dispatch(qt(o,h));var D=f.getSource(g),O=D.beginDrag(s,g);if(O!=null){Ci(O),f.pinSource(g);var _=f.getSourceType(g);return{type:ke,payload:{itemType:_,item:O,sourceId:g,clientOffset:o||null,sourceClientOffset:h||null,isSourcePublic:!!a}}}}}function wi(e,r,t){y(!r.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(n){y(t.getSource(n),"Expected sourceIds to be registered.")})}function Ii(e){y(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Ci(e){y(Gr(e),"Item must be an object.")}function Ei(e,r){for(var t=null,n=e.length-1;n>=0;n--)if(r.canDragSource(e[n])){t=e[n];break}return t}function _i(e){return function(){var t=e.getMonitor();if(t.isDragging())return{type:pt}}}function at(e,r){return r===null?e===null:Array.isArray(e)?e.some(function(t){return t===r}):e===r}function Pi(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.clientOffset;Ai(t);var a=t.slice(0),o=e.getMonitor(),u=e.getRegistry();ki(a,o,u);var s=o.getItemType();return xi(a,u,s),$i(a,o,u),{type:xe,payload:{targetIds:a,clientOffset:i||null}}}}function Ai(e){y(Array.isArray(e),"Expected targetIds to be an array.")}function ki(e,r,t){y(r.isDragging(),"Cannot call hover while not dragging."),y(!r.didDrop(),"Cannot call hover after drop.");for(var n=0;n<e.length;n++){var i=e[n];y(e.lastIndexOf(i)===n,"Expected targetIds to be unique in the passed array.");var a=t.getTarget(i);y(a,"Expected targetIds to be registered.")}}function xi(e,r,t){for(var n=e.length-1;n>=0;n--){var i=e[n],a=r.getTargetType(i);at(a,t)||e.splice(n,1)}}function $i(e,r,t){e.forEach(function(n){var i=t.getTarget(n);i.hover(r,n)})}function Wt(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function Bt(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Wt(Object(t),!0).forEach(function(n){Ri(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Wt(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ri(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Mi(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.getMonitor(),i=e.getRegistry();Ni(n);var a=Li(n);a.forEach(function(o,u){var s=ji(o,u,i,n),f={type:$e,payload:{dropResult:Bt(Bt({},t),s)}};e.dispatch(f)})}}function Ni(e){y(e.isDragging(),"Cannot call drop while not dragging."),y(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function ji(e,r,t,n){var i=t.getTarget(e),a=i?i.drop(n,e):void 0;return Fi(a),typeof a>"u"&&(a=r===0?{}:n.getDropResult()),a}function Fi(e){y(typeof e>"u"||Gr(e),"Drop result must either be an object or undefined.")}function Li(e){var r=e.getTargetIds().filter(e.canDropOnTarget,e);return r.reverse(),r}function Hi(e){return function(){var t=e.getMonitor(),n=e.getRegistry();zi(t);var i=t.getSourceId();if(i!=null){var a=n.getSource(i,!0);a.endDrag(t,i),n.unpinSource()}return{type:Re}}}function zi(e){y(e.isDragging(),"Cannot call endDrag while not dragging.")}function Ui(e){return{beginDrag:Ti(e),publishDragSource:_i(e),hover:Pi(e),drop:Mi(e),endDrag:Hi(e)}}function qi(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Kt(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Wi(e,r,t){return r&&Kt(e.prototype,r),t&&Kt(e,t),e}function ce(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Bi=function(){function e(r,t){var n=this;qi(this,e),ce(this,"store",void 0),ce(this,"monitor",void 0),ce(this,"backend",void 0),ce(this,"isSetUp",!1),ce(this,"handleRefCountChange",function(){var i=n.store.getState().refCount>0;n.backend&&(i&&!n.isSetUp?(n.backend.setup(),n.isSetUp=!0):!i&&n.isSetUp&&(n.backend.teardown(),n.isSetUp=!1))}),this.store=r,this.monitor=t,r.subscribe(this.handleRefCountChange)}return Wi(e,[{key:"receiveBackend",value:function(t){this.backend=t}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var t=this,n=this.store.dispatch;function i(o){return function(){for(var u=arguments.length,s=new Array(u),f=0;f<u;f++)s[f]=arguments[f];var g=o.apply(t,s);typeof g<"u"&&n(g)}}var a=Ui(this);return Object.keys(a).reduce(function(o,u){var s=a[u];return o[u]=i(s),o},{})}},{key:"dispatch",value:function(t){this.store.dispatch(t)}}]),e}(),Ki=function(r,t){return r===t};function Gi(e,r){return!e&&!r?!0:!e||!r?!1:e.x===r.x&&e.y===r.y}function Yi(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ki;if(e.length!==r.length)return!1;for(var n=0;n<e.length;++n)if(!t(e[n],r[n]))return!1;return!0}function Gt(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function Yt(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Gt(Object(t),!0).forEach(function(n){Xi(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Gt(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Xi(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Xt={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Vi(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Xt,r=arguments.length>1?arguments[1]:void 0,t=r.payload;switch(r.type){case gt:case ke:return{initialSourceClientOffset:t.sourceClientOffset,initialClientOffset:t.clientOffset,clientOffset:t.clientOffset};case xe:return Gi(e.clientOffset,t.clientOffset)?e:Yt(Yt({},e),{},{clientOffset:t.clientOffset});case Re:case $e:return Xt;default:return e}}var ht="dnd-core/ADD_SOURCE",vt="dnd-core/ADD_TARGET",yt="dnd-core/REMOVE_SOURCE",Me="dnd-core/REMOVE_TARGET";function Qi(e){return{type:ht,payload:{sourceId:e}}}function Ji(e){return{type:vt,payload:{targetId:e}}}function Zi(e){return{type:yt,payload:{sourceId:e}}}function ea(e){return{type:Me,payload:{targetId:e}}}function Vt(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function B(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Vt(Object(t),!0).forEach(function(n){ta(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Vt(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function ta(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var ra={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function na(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ra,r=arguments.length>1?arguments[1]:void 0,t=r.payload;switch(r.type){case ke:return B(B({},e),{},{itemType:t.itemType,item:t.item,sourceId:t.sourceId,isSourcePublic:t.isSourcePublic,dropResult:null,didDrop:!1});case pt:return B(B({},e),{},{isSourcePublic:!0});case xe:return B(B({},e),{},{targetIds:t.targetIds});case Me:return e.targetIds.indexOf(t.targetId)===-1?e:B(B({},e),{},{targetIds:bi(e.targetIds,t.targetId)});case $e:return B(B({},e),{},{dropResult:t.dropResult,didDrop:!0,targetIds:[]});case Re:return B(B({},e),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function ia(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case ht:case vt:return e+1;case yt:case Me:return e-1;default:return e}}var Ae=[],mt=[];Ae.__IS_NONE__=!0;mt.__IS_ALL__=!0;function aa(e,r){if(e===Ae)return!1;if(e===mt||typeof r>"u")return!0;var t=Oi(r,e);return t.length>0}function oa(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case xe:break;case ht:case vt:case Me:case yt:return Ae;case ke:case pt:case Re:case $e:default:return mt}var r=e.payload,t=r.targetIds,n=t===void 0?[]:t,i=r.prevTargetIds,a=i===void 0?[]:i,o=Di(n,a),u=o.length>0||!Yi(n,a);if(!u)return Ae;var s=a[a.length-1],f=n[n.length-1];return s!==f&&(s&&o.push(s),f&&o.push(f)),o}function ua(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e+1}function Qt(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function Jt(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Qt(Object(t),!0).forEach(function(n){sa(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Qt(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function sa(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ca(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:oa(e.dirtyHandlerIds,{type:r.type,payload:Jt(Jt({},r.payload),{},{prevTargetIds:mi(e,"dragOperation.targetIds",[])})}),dragOffset:Vi(e.dragOffset,r),refCount:ia(e.refCount,r),dragOperation:na(e.dragOperation,r),stateId:ua(e.stateId)}}function la(e,r){return{x:e.x+r.x,y:e.y+r.y}}function Yr(e,r){return{x:e.x-r.x,y:e.y-r.y}}function fa(e){var r=e.clientOffset,t=e.initialClientOffset,n=e.initialSourceClientOffset;return!r||!t||!n?null:Yr(la(r,n),t)}function da(e){var r=e.clientOffset,t=e.initialClientOffset;return!r||!t?null:Yr(r,t)}function ga(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Zt(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pa(e,r,t){return r&&Zt(e.prototype,r),t&&Zt(e,t),e}function er(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var ha=function(){function e(r,t){ga(this,e),er(this,"store",void 0),er(this,"registry",void 0),this.store=r,this.registry=t}return pa(e,[{key:"subscribeToStateChange",value:function(t){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{handlerIds:void 0},a=i.handlerIds;y(typeof t=="function","listener must be a function."),y(typeof a>"u"||Array.isArray(a),"handlerIds, when specified, must be an array of strings.");var o=this.store.getState().stateId,u=function(){var f=n.store.getState(),g=f.stateId;try{var h=g===o||g===o+1&&!aa(f.dirtyHandlerIds,a);h||t()}finally{o=g}};return this.store.subscribe(u)}},{key:"subscribeToOffsetChange",value:function(t){var n=this;y(typeof t=="function","listener must be a function.");var i=this.store.getState().dragOffset,a=function(){var u=n.store.getState().dragOffset;u!==i&&(i=u,t())};return this.store.subscribe(a)}},{key:"canDragSource",value:function(t){if(!t)return!1;var n=this.registry.getSource(t);return y(n,"Expected to find a valid source. sourceId=".concat(t)),this.isDragging()?!1:n.canDrag(this,t)}},{key:"canDropOnTarget",value:function(t){if(!t)return!1;var n=this.registry.getTarget(t);if(y(n,"Expected to find a valid target. targetId=".concat(t)),!this.isDragging()||this.didDrop())return!1;var i=this.registry.getTargetType(t),a=this.getItemType();return at(i,a)&&n.canDrop(this,t)}},{key:"isDragging",value:function(){return!!this.getItemType()}},{key:"isDraggingSource",value:function(t){if(!t)return!1;var n=this.registry.getSource(t,!0);if(y(n,"Expected to find a valid source. sourceId=".concat(t)),!this.isDragging()||!this.isSourcePublic())return!1;var i=this.registry.getSourceType(t),a=this.getItemType();return i!==a?!1:n.isDragging(this,t)}},{key:"isOverTarget",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shallow:!1};if(!t)return!1;var i=n.shallow;if(!this.isDragging())return!1;var a=this.registry.getTargetType(t),o=this.getItemType();if(o&&!at(a,o))return!1;var u=this.getTargetIds();if(!u.length)return!1;var s=u.indexOf(t);return i?s===u.length-1:s>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return!!this.store.getState().dragOperation.isSourcePublic}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return fa(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return da(this.store.getState().dragOffset)}}]),e}(),va=0;function ya(){return va++}function Te(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Te=function(t){return typeof t}:Te=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Te(e)}function ma(e){y(typeof e.canDrag=="function","Expected canDrag to be a function."),y(typeof e.beginDrag=="function","Expected beginDrag to be a function."),y(typeof e.endDrag=="function","Expected endDrag to be a function.")}function ba(e){y(typeof e.canDrop=="function","Expected canDrop to be a function."),y(typeof e.hover=="function","Expected hover to be a function."),y(typeof e.drop=="function","Expected beginDrag to be a function.")}function ot(e,r){if(r&&Array.isArray(e)){e.forEach(function(t){return ot(t,!1)});return}y(typeof e=="string"||Te(e)==="symbol",r?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}const tr=typeof global<"u"?global:self,Xr=tr.MutationObserver||tr.WebKitMutationObserver;function Vr(e){return function(){const t=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(t),clearInterval(n),e()}}}function Da(e){let r=1;const t=new Xr(e),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){r=-r,n.data=r}}const Oa=typeof Xr=="function"?Da:Vr;class Sa{enqueueTask(r){const{queue:t,requestFlush:n}=this;t.length||(n(),this.flushing=!0),t[t.length]=r}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:r}=this;for(;this.index<r.length;){const t=this.index;if(this.index++,r[t].call(),this.index>this.capacity){for(let n=0,i=r.length-this.index;n<i;n++)r[n]=r[n+this.index];r.length-=this.index,this.index=0}}r.length=0,this.index=0,this.flushing=!1},this.registerPendingError=r=>{this.pendingErrors.push(r),this.requestErrorThrow()},this.requestFlush=Oa(this.flush),this.requestErrorThrow=Vr(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class Ta{call(){try{this.task&&this.task()}catch(r){this.onError(r)}finally{this.task=null,this.release(this)}}constructor(r,t){this.onError=r,this.release=t,this.task=null}}class wa{create(r){const t=this.freeTasks,n=t.length?t.pop():new Ta(this.onError,i=>t[t.length]=i);return n.task=r,n}constructor(r){this.onError=r,this.freeTasks=[]}}const Qr=new Sa,Ia=new wa(Qr.registerPendingError);function Ca(e){Qr.enqueueTask(Ia.create(e))}function Ea(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function rr(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _a(e,r,t){return r&&rr(e.prototype,r),t&&rr(e,t),e}function ne(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Pa(e,r){return $a(e)||xa(e,r)||ka(e,r)||Aa()}function Aa(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ka(e,r){if(e){if(typeof e=="string")return nr(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return nr(e,r)}}function nr(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function xa(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,o,u;try{for(t=t.call(e);!(i=(o=t.next()).done)&&(n.push(o.value),!(r&&n.length===r));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw u}}return n}}function $a(e){if(Array.isArray(e))return e}function Ra(e){var r=ya().toString();switch(e){case K.SOURCE:return"S".concat(r);case K.TARGET:return"T".concat(r);default:throw new Error("Unknown Handler Role: ".concat(e))}}function ir(e){switch(e[0]){case"S":return K.SOURCE;case"T":return K.TARGET;default:y(!1,"Cannot parse handler ID: ".concat(e))}}function ar(e,r){var t=e.entries(),n=!1;do{var i=t.next(),a=i.done,o=Pa(i.value,2),u=o[1];if(u===r)return!0;n=!!a}while(!n);return!1}var Ma=function(){function e(r){Ea(this,e),ne(this,"types",new Map),ne(this,"dragSources",new Map),ne(this,"dropTargets",new Map),ne(this,"pinnedSourceId",null),ne(this,"pinnedSource",null),ne(this,"store",void 0),this.store=r}return _a(e,[{key:"addSource",value:function(t,n){ot(t),ma(n);var i=this.addHandler(K.SOURCE,t,n);return this.store.dispatch(Qi(i)),i}},{key:"addTarget",value:function(t,n){ot(t,!0),ba(n);var i=this.addHandler(K.TARGET,t,n);return this.store.dispatch(Ji(i)),i}},{key:"containsHandler",value:function(t){return ar(this.dragSources,t)||ar(this.dropTargets,t)}},{key:"getSource",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;y(this.isSourceId(t),"Expected a valid source ID.");var i=n&&t===this.pinnedSourceId,a=i?this.pinnedSource:this.dragSources.get(t);return a}},{key:"getTarget",value:function(t){return y(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}},{key:"getSourceType",value:function(t){return y(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}},{key:"getTargetType",value:function(t){return y(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}},{key:"isSourceId",value:function(t){var n=ir(t);return n===K.SOURCE}},{key:"isTargetId",value:function(t){var n=ir(t);return n===K.TARGET}},{key:"removeSource",value:function(t){var n=this;y(this.getSource(t),"Expected an existing source."),this.store.dispatch(Zi(t)),Ca(function(){n.dragSources.delete(t),n.types.delete(t)})}},{key:"removeTarget",value:function(t){y(this.getTarget(t),"Expected an existing target."),this.store.dispatch(ea(t)),this.dropTargets.delete(t),this.types.delete(t)}},{key:"pinSource",value:function(t){var n=this.getSource(t);y(n,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=n}},{key:"unpinSource",value:function(){y(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(t,n,i){var a=Ra(t);return this.types.set(a,n),t===K.SOURCE?this.dragSources.set(a,i):t===K.TARGET&&this.dropTargets.set(a,i),a}}]),e}();function Na(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=ja(n),a=new ha(i,new Ma(i)),o=new Bi(i,a),u=e(o,r,t);return o.receiveBackend(u),o}function ja(e){var r=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return vn(ca,e&&r&&r({name:"dnd-core",instanceId:"dnd-core"}))}var Fa=["children"];function La(e,r){return qa(e)||Ua(e,r)||za(e,r)||Ha()}function Ha(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function za(e,r){if(e){if(typeof e=="string")return or(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return or(e,r)}}function or(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Ua(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,o,u;try{for(t=t.call(e);!(i=(o=t.next()).done)&&(n.push(o.value),!(r&&n.length===r));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw u}}return n}}function qa(e){if(Array.isArray(e))return e}function Wa(e,r){if(e==null)return{};var t=Ba(e,r),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function Ba(e,r){if(e==null)return{};var t={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(r.indexOf(i)>=0)&&(t[i]=e[i]);return t}var ur=0,we=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),Ka=p.memo(function(r){var t=r.children,n=Wa(r,Fa),i=Ga(n),a=La(i,2),o=a[0],u=a[1];return p.useEffect(function(){if(u){var s=Jr();return++ur,function(){--ur===0&&(s[we]=null)}}},[]),C.jsx(Kr.Provider,Object.assign({value:o},{children:t}),void 0)});function Ga(e){if("manager"in e){var r={dragDropManager:e.manager};return[r,!1]}var t=Ya(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}function Ya(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Jr(),t=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=r;return i[we]||(i[we]={dragDropManager:Na(e,r,t,n)}),i[we]}function Jr(){return typeof global<"u"?global:window}function Xa(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function sr(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Va(e,r,t){return r&&sr(e.prototype,r),t&&sr(e,t),e}function cr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Ge=!1,Ye=!1,Qa=function(){function e(r){Xa(this,e),cr(this,"internalMonitor",void 0),cr(this,"sourceId",null),this.internalMonitor=r.getMonitor()}return Va(e,[{key:"receiveHandlerId",value:function(t){this.sourceId=t}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){y(!Ge,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Ge=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Ge=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;y(!Ye,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Ye=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Ye=!1}}},{key:"subscribeToStateChange",value:function(t,n){return this.internalMonitor.subscribeToStateChange(t,n)}},{key:"isDraggingSource",value:function(t){return this.internalMonitor.isDraggingSource(t)}},{key:"isOverTarget",value:function(t,n){return this.internalMonitor.isOverTarget(t,n)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(t){return this.internalMonitor.subscribeToOffsetChange(t)}},{key:"canDragSource",value:function(t){return this.internalMonitor.canDragSource(t)}},{key:"canDropOnTarget",value:function(t){return this.internalMonitor.canDropOnTarget(t)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}();function Ja(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function lr(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Za(e,r,t){return r&&lr(e.prototype,r),t&&lr(e,t),e}function fr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Xe=!1,eo=function(){function e(r){Ja(this,e),fr(this,"internalMonitor",void 0),fr(this,"targetId",null),this.internalMonitor=r.getMonitor()}return Za(e,[{key:"receiveHandlerId",value:function(t){this.targetId=t}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(t,n){return this.internalMonitor.subscribeToStateChange(t,n)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;y(!Xe,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Xe=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Xe=!1}}},{key:"isOver",value:function(t){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,t):!1}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}();function to(e){if(typeof e.type!="string"){var r=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(r," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function ro(e){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!p.isValidElement(r)){var n=r;return e(n,t),n}var i=r;to(i);var a=t?function(o){return e(o,t)}:e;return no(i,a)}}function Zr(e){var r={};return Object.keys(e).forEach(function(t){var n=e[t];if(t.endsWith("Ref"))r[t]=e[t];else{var i=ro(n);r[t]=function(){return i}}}),r}function dr(e,r){typeof e=="function"?e(r):e.current=r}function no(e,r){var t=e.ref;return y(typeof t!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),t?p.cloneElement(e,{ref:function(i){dr(t,i),dr(r,i)}}):p.cloneElement(e,{ref:r})}function Ie(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ie=function(t){return typeof t}:Ie=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ie(e)}function ut(e){return e!==null&&Ie(e)==="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function st(e,r,t,n){var i=t?t.call(n,e,r):void 0;if(i!==void 0)return!!i;if(e===r)return!0;if(typeof e!="object"||!e||typeof r!="object"||!r)return!1;var a=Object.keys(e),o=Object.keys(r);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(r),s=0;s<a.length;s++){var f=a[s];if(!u(f))return!1;var g=e[f],h=r[f];if(i=t?t.call(n,g,h,f):void 0,i===!1||i===void 0&&g!==h)return!1}return!0}function io(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function gr(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ao(e,r,t){return r&&gr(e.prototype,r),t&&gr(e,t),e}function z(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var oo=function(){function e(r){var t=this;io(this,e),z(this,"hooks",Zr({dragSource:function(i,a){t.clearDragSource(),t.dragSourceOptions=a||null,ut(i)?t.dragSourceRef=i:t.dragSourceNode=i,t.reconnectDragSource()},dragPreview:function(i,a){t.clearDragPreview(),t.dragPreviewOptions=a||null,ut(i)?t.dragPreviewRef=i:t.dragPreviewNode=i,t.reconnectDragPreview()}})),z(this,"handlerId",null),z(this,"dragSourceRef",null),z(this,"dragSourceNode",void 0),z(this,"dragSourceOptionsInternal",null),z(this,"dragSourceUnsubscribe",void 0),z(this,"dragPreviewRef",null),z(this,"dragPreviewNode",void 0),z(this,"dragPreviewOptionsInternal",null),z(this,"dragPreviewUnsubscribe",void 0),z(this,"lastConnectedHandlerId",null),z(this,"lastConnectedDragSource",null),z(this,"lastConnectedDragSourceOptions",null),z(this,"lastConnectedDragPreview",null),z(this,"lastConnectedDragPreviewOptions",null),z(this,"backend",void 0),this.backend=r}return ao(e,[{key:"receiveHandlerId",value:function(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(t){this.dragSourceOptionsInternal=t}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(t){this.dragPreviewOptionsInternal=t}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var t=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();if(n&&this.disconnectDragSource(),!!this.handlerId){if(!t){this.lastConnectedDragSource=t;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions))}}},{key:"reconnectDragPreview",value:function(){var t=this.dragPreview,n=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!t){this.lastConnectedDragPreview=t;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions))}}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!st(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!st(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}}]),e}();function uo(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function pr(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function so(e,r,t){return r&&pr(e.prototype,r),t&&pr(e,t),e}function Y(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var co=function(){function e(r){var t=this;uo(this,e),Y(this,"hooks",Zr({dropTarget:function(i,a){t.clearDropTarget(),t.dropTargetOptions=a,ut(i)?t.dropTargetRef=i:t.dropTargetNode=i,t.reconnect()}})),Y(this,"handlerId",null),Y(this,"dropTargetRef",null),Y(this,"dropTargetNode",void 0),Y(this,"dropTargetOptionsInternal",null),Y(this,"unsubscribeDropTarget",void 0),Y(this,"lastConnectedHandlerId",null),Y(this,"lastConnectedDropTarget",null),Y(this,"lastConnectedDropTargetOptions",null),Y(this,"backend",void 0),this.backend=r}return so(e,[{key:"connectTarget",get:function(){return this.dropTarget}},{key:"reconnect",value:function(){var t=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();t&&this.disconnectDropTarget();var n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}},{key:"receiveHandlerId",value:function(t){t!==this.handlerId&&(this.handlerId=t,this.reconnect())}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(t){this.dropTargetOptionsInternal=t}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!st(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}}]),e}();function lo(e,r,t){var n=t.getRegistry(),i=n.addTarget(e,r);return[i,function(){return n.removeTarget(i)}]}function fo(e,r,t){var n=t.getRegistry(),i=n.addSource(e,r);return[i,function(){return n.removeSource(i)}]}var J=typeof window<"u"?p.useLayoutEffect:p.useEffect;function Ce(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ce=function(t){return typeof t}:Ce=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ce(e)}function go(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function hr(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function po(e,r,t){return r&&hr(e.prototype,r),t&&hr(e,t),e}function Ve(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var ho=function(){function e(r,t,n){go(this,e),Ve(this,"spec",void 0),Ve(this,"monitor",void 0),Ve(this,"connector",void 0),this.spec=r,this.monitor=t,this.connector=n}return po(e,[{key:"beginDrag",value:function(){var t,n=this.spec,i=this.monitor,a=null;return Ce(n.item)==="object"?a=n.item:typeof n.item=="function"?a=n.item(i):a={},(t=a)!==null&&t!==void 0?t:null}},{key:"canDrag",value:function(){var t=this.spec,n=this.monitor;return typeof t.canDrag=="boolean"?t.canDrag:typeof t.canDrag=="function"?t.canDrag(n):!0}},{key:"isDragging",value:function(t,n){var i=this.spec,a=this.monitor,o=i.isDragging;return o?o(a):n===t.getSourceId()}},{key:"endDrag",value:function(){var t=this.spec,n=this.monitor,i=this.connector,a=t.end;a&&a(n.getItem(),n),i.reconnect()}}]),e}();function vo(e,r,t){var n=p.useMemo(function(){return new ho(e,r,t)},[r,t]);return p.useEffect(function(){n.spec=e},[e]),n}function ue(){var e=p.useContext(Kr),r=e.dragDropManager;return y(r!=null,"Expected drag drop context"),r}function yo(e){return p.useMemo(function(){var r=e.type;return y(r!=null,"spec.type must be defined"),r},[e])}function mo(e,r){return So(e)||Oo(e,r)||Do(e,r)||bo()}function bo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Do(e,r){if(e){if(typeof e=="string")return vr(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return vr(e,r)}}function vr(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Oo(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,o,u;try{for(t=t.call(e);!(i=(o=t.next()).done)&&(n.push(o.value),!(r&&n.length===r));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw u}}return n}}function So(e){if(Array.isArray(e))return e}function To(e,r,t){var n=ue(),i=vo(e,r,t),a=yo(e);J(function(){if(a!=null){var u=fo(a,i,n),s=mo(u,2),f=s[0],g=s[1];return r.receiveHandlerId(f),t.receiveHandlerId(f),g}},[n,r,t,i,a])}function wo(e){return _o(e)||Eo(e)||Co(e)||Io()}function Io(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Co(e,r){if(e){if(typeof e=="string")return ct(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ct(e,r)}}function Eo(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _o(e){if(Array.isArray(e))return ct(e)}function ct(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function en(e,r){var t=wo(r||[]);return r==null&&typeof e!="function"&&t.push(e),p.useMemo(function(){return typeof e=="function"?e():e},t)}function Po(){var e=ue();return p.useMemo(function(){return new Qa(e)},[e])}function Ao(e,r){var t=ue(),n=p.useMemo(function(){return new oo(t.getBackend())},[t]);return J(function(){return n.dragSourceOptions=e||null,n.reconnect(),function(){return n.disconnectDragSource()}},[n,e]),J(function(){return n.dragPreviewOptions=r||null,n.reconnect(),function(){return n.disconnectDragPreview()}},[n,r]),n}function ko(e,r){return Mo(e)||Ro(e,r)||$o(e,r)||xo()}function xo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $o(e,r){if(e){if(typeof e=="string")return yr(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return yr(e,r)}}function yr(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Ro(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,o,u;try{for(t=t.call(e);!(i=(o=t.next()).done)&&(n.push(o.value),!(r&&n.length===r));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw u}}return n}}function Mo(e){if(Array.isArray(e))return e}function No(e,r,t){var n=p.useState(function(){return r(e)}),i=ko(n,2),a=i[0],o=i[1],u=p.useCallback(function(){var s=r(e);wn(a,s)||(o(s),t&&t())},[a,e,t]);return J(u),[a,u]}function jo(e,r){return zo(e)||Ho(e,r)||Lo(e,r)||Fo()}function Fo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lo(e,r){if(e){if(typeof e=="string")return mr(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return mr(e,r)}}function mr(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Ho(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,o,u;try{for(t=t.call(e);!(i=(o=t.next()).done)&&(n.push(o.value),!(r&&n.length===r));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw u}}return n}}function zo(e){if(Array.isArray(e))return e}function Uo(e,r,t){var n=No(e,r,t),i=jo(n,2),a=i[0],o=i[1];return J(function(){var s=e.getHandlerId();if(s!=null)return e.subscribeToStateChange(o,{handlerIds:[s]})},[e,o]),a}function tn(e,r,t){return Uo(r,e||function(){return{}},function(){return t.reconnect()})}function qo(e){return p.useMemo(function(){return e.hooks.dragSource()},[e])}function Wo(e){return p.useMemo(function(){return e.hooks.dragPreview()},[e])}function Bo(e,r){var t=en(e,r);y(!t.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");var n=Po(),i=Ao(t.options,t.previewOptions);return To(t,n,i),[tn(t.collect,n,i),qo(i),Wo(i)]}function Ko(e){var r=e.accept;return p.useMemo(function(){return y(e.accept!=null,"accept must be defined"),Array.isArray(r)?r:[r]},[r])}function Go(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function br(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Yo(e,r,t){return r&&br(e.prototype,r),t&&br(e,t),e}function Dr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Xo=function(){function e(r,t){Go(this,e),Dr(this,"spec",void 0),Dr(this,"monitor",void 0),this.spec=r,this.monitor=t}return Yo(e,[{key:"canDrop",value:function(){var t=this.spec,n=this.monitor;return t.canDrop?t.canDrop(n.getItem(),n):!0}},{key:"hover",value:function(){var t=this.spec,n=this.monitor;t.hover&&t.hover(n.getItem(),n)}},{key:"drop",value:function(){var t=this.spec,n=this.monitor;if(t.drop)return t.drop(n.getItem(),n)}}]),e}();function Vo(e,r){var t=p.useMemo(function(){return new Xo(e,r)},[r]);return p.useEffect(function(){t.spec=e},[e]),t}function Qo(e,r){return tu(e)||eu(e,r)||Zo(e,r)||Jo()}function Jo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zo(e,r){if(e){if(typeof e=="string")return Or(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Or(e,r)}}function Or(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function eu(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,a=!1,o,u;try{for(t=t.call(e);!(i=(o=t.next()).done)&&(n.push(o.value),!(r&&n.length===r));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw u}}return n}}function tu(e){if(Array.isArray(e))return e}function ru(e,r,t){var n=ue(),i=Vo(e,r),a=Ko(e);J(function(){var u=lo(a,i,n),s=Qo(u,2),f=s[0],g=s[1];return r.receiveHandlerId(f),t.receiveHandlerId(f),g},[n,r,i,t,a.map(function(o){return o.toString()}).join("|")])}function nu(){var e=ue();return p.useMemo(function(){return new eo(e)},[e])}function iu(e){var r=ue(),t=p.useMemo(function(){return new co(r.getBackend())},[r]);return J(function(){return t.dropTargetOptions=e||null,t.reconnect(),function(){return t.disconnectDropTarget()}},[e]),t}function au(e){return p.useMemo(function(){return e.hooks.dropTarget()},[e])}function ou(e,r){var t=en(e,r),n=nu(),i=iu(t.options);return ru(t,n,i),[tn(t.collect,n,i),au(i)]}function rn(e){var r=null,t=function(){return r==null&&(r=e()),r};return t}function uu(e,r){return e.filter(function(t){return t!==r})}function su(e,r){var t=new Set,n=function(o){return t.add(o)};e.forEach(n),r.forEach(n);var i=[];return t.forEach(function(a){return i.push(a)}),i}function cu(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Sr(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lu(e,r,t){return r&&Sr(e.prototype,r),t&&Sr(e,t),e}function Tr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var fu=function(){function e(r){cu(this,e),Tr(this,"entered",[]),Tr(this,"isNodeInDocument",void 0),this.isNodeInDocument=r}return lu(e,[{key:"enter",value:function(t){var n=this,i=this.entered.length,a=function(u){return n.isNodeInDocument(u)&&(!u.contains||u.contains(t))};return this.entered=su(this.entered.filter(a),[t]),i===0&&this.entered.length>0}},{key:"leave",value:function(t){var n=this.entered.length;return this.entered=uu(this.entered.filter(this.isNodeInDocument),t),n>0&&this.entered.length===0}},{key:"reset",value:function(){this.entered=[]}}]),e}(),du=rn(function(){return/firefox/i.test(navigator.userAgent)}),nn=rn(function(){return!!window.safari});function gu(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function wr(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pu(e,r,t){return r&&wr(e.prototype,r),t&&wr(e,t),e}function le(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Ir=function(){function e(r,t){gu(this,e),le(this,"xs",void 0),le(this,"ys",void 0),le(this,"c1s",void 0),le(this,"c2s",void 0),le(this,"c3s",void 0);for(var n=r.length,i=[],a=0;a<n;a++)i.push(a);i.sort(function(l,m){return r[l]<r[m]?-1:1});for(var o=[],u=[],s,f,g=0;g<n-1;g++)s=r[g+1]-r[g],f=t[g+1]-t[g],o.push(s),u.push(f/s);for(var h=[u[0]],D=0;D<o.length-1;D++){var O=u[D],_=u[D+1];if(O*_<=0)h.push(0);else{s=o[D];var M=o[D+1],k=s+M;h.push(3*k/((k+M)/O+(k+s)/_))}}h.push(u[u.length-1]);for(var S=[],E=[],I,P=0;P<h.length-1;P++){I=u[P];var $=h[P],U=1/o[P],c=$+h[P+1]-I-I;S.push((I-$-c)*U),E.push(c*U*U)}this.xs=r,this.ys=t,this.c1s=h,this.c2s=S,this.c3s=E}return pu(e,[{key:"interpolate",value:function(t){var n=this.xs,i=this.ys,a=this.c1s,o=this.c2s,u=this.c3s,s=n.length-1;if(t===n[s])return i[s];for(var f=0,g=u.length-1,h;f<=g;){h=Math.floor(.5*(f+g));var D=n[h];if(D<t)f=h+1;else if(D>t)g=h-1;else return i[h]}s=Math.max(0,g);var O=t-n[s],_=O*O;return i[s]+a[s]*O+o[s]*_+u[s]*O*_}}]),e}(),hu=1;function an(e){var r=e.nodeType===hu?e:e.parentElement;if(!r)return null;var t=r.getBoundingClientRect(),n=t.top,i=t.left;return{x:i,y:n}}function De(e){return{x:e.clientX,y:e.clientY}}function vu(e){var r;return e.nodeName==="IMG"&&(du()||!((r=document.documentElement)!==null&&r!==void 0&&r.contains(e)))}function yu(e,r,t,n){var i=e?r.width:t,a=e?r.height:n;return nn()&&e&&(a/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:a}}function mu(e,r,t,n,i){var a=vu(r),o=a?e:r,u=an(o),s={x:t.x-u.x,y:t.y-u.y},f=e.offsetWidth,g=e.offsetHeight,h=n.anchorX,D=n.anchorY,O=yu(a,r,f,g),_=O.dragPreviewWidth,M=O.dragPreviewHeight,k=function(){var c=new Ir([0,.5,1],[s.y,s.y/g*M,s.y+M-g]),l=c.interpolate(D);return nn()&&a&&(l+=(window.devicePixelRatio-1)*M),l},S=function(){var c=new Ir([0,.5,1],[s.x,s.x/f*_,s.x+_-f]);return c.interpolate(h)},E=i.offsetX,I=i.offsetY,P=E===0||E,$=I===0||I;return{x:P?E:S(),y:$?I:k()}}var on="__NATIVE_FILE__",un="__NATIVE_URL__",sn="__NATIVE_TEXT__",cn="__NATIVE_HTML__";const Cr=Object.freeze(Object.defineProperty({__proto__:null,FILE:on,HTML:cn,TEXT:sn,URL:un},Symbol.toStringTag,{value:"Module"}));function Qe(e,r,t){var n=r.reduce(function(i,a){return i||e.getData(a)},"");return n??t}var ie;function Oe(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var lt=(ie={},Oe(ie,on,{exposeProperties:{files:function(r){return Array.prototype.slice.call(r.files)},items:function(r){return r.items},dataTransfer:function(r){return r}},matchesTypes:["Files"]}),Oe(ie,cn,{exposeProperties:{html:function(r,t){return Qe(r,t,"")},dataTransfer:function(r){return r}},matchesTypes:["Html","text/html"]}),Oe(ie,un,{exposeProperties:{urls:function(r,t){return Qe(r,t,"").split(`
`)},dataTransfer:function(r){return r}},matchesTypes:["Url","text/uri-list"]}),Oe(ie,sn,{exposeProperties:{text:function(r,t){return Qe(r,t,"")},dataTransfer:function(r){return r}},matchesTypes:["Text","text/plain"]}),ie);function bu(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Er(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Du(e,r,t){return r&&Er(e.prototype,r),t&&Er(e,t),e}function _r(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Ou=function(){function e(r){bu(this,e),_r(this,"item",void 0),_r(this,"config",void 0),this.config=r,this.item={},this.initializeExposedProperties()}return Du(e,[{key:"initializeExposedProperties",value:function(){var t=this;Object.keys(this.config.exposeProperties).forEach(function(n){Object.defineProperty(t.item,n,{configurable:!0,enumerable:!0,get:function(){return console.warn(`Browser doesn't allow reading "`.concat(n,'" until the drop event.')),null}})})}},{key:"loadDataTransfer",value:function(t){var n=this;if(t){var i={};Object.keys(this.config.exposeProperties).forEach(function(a){i[a]={value:n.config.exposeProperties[a](t,n.config.matchesTypes),configurable:!0,enumerable:!0}}),Object.defineProperties(this.item,i)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(t,n){return n===t.getSourceId()}},{key:"endDrag",value:function(){}}]),e}();function Su(e,r){var t=new Ou(lt[e]);return t.loadDataTransfer(r),t}function Je(e){if(!e)return null;var r=Array.prototype.slice.call(e.types||[]);return Object.keys(lt).filter(function(t){var n=lt[t].matchesTypes;return n.some(function(i){return r.indexOf(i)>-1})})[0]||null}function Tu(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Pr(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function wu(e,r,t){return r&&Pr(e.prototype,r),t&&Pr(e,t),e}function Ze(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Iu=function(){function e(r,t){Tu(this,e),Ze(this,"ownerDocument",null),Ze(this,"globalContext",void 0),Ze(this,"optionsArgs",void 0),this.globalContext=r,this.optionsArgs=t}return wu(e,[{key:"window",get:function(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}},{key:"document",get:function(){var t;return(t=this.globalContext)!==null&&t!==void 0&&t.document?this.globalContext.document:this.window?this.window.document:void 0}},{key:"rootElement",get:function(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}}]),e}();function Ar(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function kr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ar(Object(t),!0).forEach(function(n){b(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ar(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Cu(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function xr(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Eu(e,r,t){return r&&xr(e.prototype,r),t&&xr(e,t),e}function b(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var _u=function(){function e(r,t,n){var i=this;Cu(this,e),b(this,"options",void 0),b(this,"actions",void 0),b(this,"monitor",void 0),b(this,"registry",void 0),b(this,"enterLeaveCounter",void 0),b(this,"sourcePreviewNodes",new Map),b(this,"sourcePreviewNodeOptions",new Map),b(this,"sourceNodes",new Map),b(this,"sourceNodeOptions",new Map),b(this,"dragStartSourceIds",null),b(this,"dropTargetIds",[]),b(this,"dragEnterTargetIds",[]),b(this,"currentNativeSource",null),b(this,"currentNativeHandle",null),b(this,"currentDragSourceNode",null),b(this,"altKeyPressed",!1),b(this,"mouseMoveTimeoutTimer",null),b(this,"asyncEndDragFrameId",null),b(this,"dragOverTargetIds",null),b(this,"lastClientOffset",null),b(this,"hoverRafId",null),b(this,"getSourceClientOffset",function(a){var o=i.sourceNodes.get(a);return o&&an(o)||null}),b(this,"endDragNativeItem",function(){i.isDraggingNativeItem()&&(i.actions.endDrag(),i.currentNativeHandle&&i.registry.removeSource(i.currentNativeHandle),i.currentNativeHandle=null,i.currentNativeSource=null)}),b(this,"isNodeInDocument",function(a){return!!(a&&i.document&&i.document.body&&i.document.body.contains(a))}),b(this,"endDragIfSourceWasRemovedFromDOM",function(){var a=i.currentDragSourceNode;a==null||i.isNodeInDocument(a)||i.clearCurrentDragSourceNode()&&i.monitor.isDragging()&&i.actions.endDrag()}),b(this,"handleTopDragStartCapture",function(){i.clearCurrentDragSourceNode(),i.dragStartSourceIds=[]}),b(this,"handleTopDragStart",function(a){if(!a.defaultPrevented){var o=i.dragStartSourceIds;i.dragStartSourceIds=null;var u=De(a);i.monitor.isDragging()&&i.actions.endDrag(),i.actions.beginDrag(o||[],{publishSource:!1,getSourceClientOffset:i.getSourceClientOffset,clientOffset:u});var s=a.dataTransfer,f=Je(s);if(i.monitor.isDragging()){if(s&&typeof s.setDragImage=="function"){var g=i.monitor.getSourceId(),h=i.sourceNodes.get(g),D=i.sourcePreviewNodes.get(g)||h;if(D){var O=i.getCurrentSourcePreviewNodeOptions(),_=O.anchorX,M=O.anchorY,k=O.offsetX,S=O.offsetY,E={anchorX:_,anchorY:M},I={offsetX:k,offsetY:S},P=mu(h,D,u,E,I);s.setDragImage(D,P.x,P.y)}}try{s==null||s.setData("application/json",{})}catch{}i.setCurrentDragSourceNode(a.target);var $=i.getCurrentSourcePreviewNodeOptions(),U=$.captureDraggingState;U?i.actions.publishDragSource():setTimeout(function(){return i.actions.publishDragSource()},0)}else if(f)i.beginDragNativeItem(f);else{if(s&&!s.types&&(a.target&&!a.target.hasAttribute||!a.target.hasAttribute("draggable")))return;a.preventDefault()}}}),b(this,"handleTopDragEndCapture",function(){i.clearCurrentDragSourceNode()&&i.monitor.isDragging()&&i.actions.endDrag()}),b(this,"handleTopDragEnterCapture",function(a){i.dragEnterTargetIds=[];var o=i.enterLeaveCounter.enter(a.target);if(!(!o||i.monitor.isDragging())){var u=a.dataTransfer,s=Je(u);s&&i.beginDragNativeItem(s,u)}}),b(this,"handleTopDragEnter",function(a){var o=i.dragEnterTargetIds;if(i.dragEnterTargetIds=[],!!i.monitor.isDragging()){i.altKeyPressed=a.altKey,o.length>0&&i.actions.hover(o,{clientOffset:De(a)});var u=o.some(function(s){return i.monitor.canDropOnTarget(s)});u&&(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=i.getCurrentDropEffect()))}}),b(this,"handleTopDragOverCapture",function(){i.dragOverTargetIds=[]}),b(this,"handleTopDragOver",function(a){var o=i.dragOverTargetIds;if(i.dragOverTargetIds=[],!i.monitor.isDragging()){a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none");return}i.altKeyPressed=a.altKey,i.lastClientOffset=De(a),i.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(i.hoverRafId=requestAnimationFrame(function(){i.monitor.isDragging()&&i.actions.hover(o||[],{clientOffset:i.lastClientOffset}),i.hoverRafId=null}));var u=(o||[]).some(function(s){return i.monitor.canDropOnTarget(s)});u?(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=i.getCurrentDropEffect())):i.isDraggingNativeItem()?a.preventDefault():(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none"))}),b(this,"handleTopDragLeaveCapture",function(a){i.isDraggingNativeItem()&&a.preventDefault();var o=i.enterLeaveCounter.leave(a.target);o&&i.isDraggingNativeItem()&&setTimeout(function(){return i.endDragNativeItem()},0)}),b(this,"handleTopDropCapture",function(a){if(i.dropTargetIds=[],i.isDraggingNativeItem()){var o;a.preventDefault(),(o=i.currentNativeSource)===null||o===void 0||o.loadDataTransfer(a.dataTransfer)}else Je(a.dataTransfer)&&a.preventDefault();i.enterLeaveCounter.reset()}),b(this,"handleTopDrop",function(a){var o=i.dropTargetIds;i.dropTargetIds=[],i.actions.hover(o,{clientOffset:De(a)}),i.actions.drop({dropEffect:i.getCurrentDropEffect()}),i.isDraggingNativeItem()?i.endDragNativeItem():i.monitor.isDragging()&&i.actions.endDrag()}),b(this,"handleSelectStart",function(a){var o=a.target;typeof o.dragDrop=="function"&&(o.tagName==="INPUT"||o.tagName==="SELECT"||o.tagName==="TEXTAREA"||o.isContentEditable||(a.preventDefault(),o.dragDrop()))}),this.options=new Iu(t,n),this.actions=r.getActions(),this.monitor=r.getMonitor(),this.registry=r.getRegistry(),this.enterLeaveCounter=new fu(this.isNodeInDocument)}return Eu(e,[{key:"profile",value:function(){var t,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}},{key:"rootElement",get:function(){return this.options.rootElement}},{key:"setup",value:function(){var t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}},{key:"teardown",value:function(){var t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}},{key:"connectDragPreview",value:function(t,n,i){var a=this;return this.sourcePreviewNodeOptions.set(t,i),this.sourcePreviewNodes.set(t,n),function(){a.sourcePreviewNodes.delete(t),a.sourcePreviewNodeOptions.delete(t)}}},{key:"connectDragSource",value:function(t,n,i){var a=this;this.sourceNodes.set(t,n),this.sourceNodeOptions.set(t,i);var o=function(f){return a.handleDragStart(f,t)},u=function(f){return a.handleSelectStart(f)};return n.setAttribute("draggable","true"),n.addEventListener("dragstart",o),n.addEventListener("selectstart",u),function(){a.sourceNodes.delete(t),a.sourceNodeOptions.delete(t),n.removeEventListener("dragstart",o),n.removeEventListener("selectstart",u),n.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(t,n){var i=this,a=function(f){return i.handleDragEnter(f,t)},o=function(f){return i.handleDragOver(f,t)},u=function(f){return i.handleDrop(f,t)};return n.addEventListener("dragenter",a),n.addEventListener("dragover",o),n.addEventListener("drop",u),function(){n.removeEventListener("dragenter",a),n.removeEventListener("dragover",o),n.removeEventListener("drop",u)}}},{key:"addEventListeners",value:function(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var t=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(t);return kr({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var t=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(t);return kr({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}},{key:"isDraggingNativeItem",value:function(){var t=this.monitor.getItemType();return Object.keys(Cr).some(function(n){return Cr[n]===t})}},{key:"beginDragNativeItem",value:function(t,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=Su(t,n),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(t){var n=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;var i=1e3;this.mouseMoveTimeoutTimer=setTimeout(function(){var a;return(a=n.rootElement)===null||a===void 0?void 0:a.addEventListener("mousemove",n.endDragIfSourceWasRemovedFromDOM,!0)},i)}},{key:"clearCurrentDragSourceNode",value:function(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}},{key:"handleDragStart",value:function(t,n){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}},{key:"handleDragEnter",value:function(t,n){this.dragEnterTargetIds.unshift(n)}},{key:"handleDragOver",value:function(t,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}},{key:"handleDrop",value:function(t,n){this.dropTargetIds.unshift(n)}}]),e}(),Pu=function(r,t,n){return new _u(r,t,n)},ft={exports:{}};(function(e,r){Object.defineProperty(r,"__esModule",{value:!0});function t(c){return typeof c=="object"&&!("toString"in c)?Object.prototype.toString.call(c).slice(8,-1):c}var n=typeof process=="object"&&!0;function i(c,l){if(!c)throw n?new Error("Invariant failed"):new Error(l())}r.invariant=i;var a=Object.prototype.hasOwnProperty,o=Array.prototype.splice,u=Object.prototype.toString;function s(c){return u.call(c).slice(8,-1)}var f=Object.assign||function(c,l){return g(l).forEach(function(m){a.call(l,m)&&(c[m]=l[m])}),c},g=typeof Object.getOwnPropertySymbols=="function"?function(c){return Object.keys(c).concat(Object.getOwnPropertySymbols(c))}:function(c){return Object.keys(c)};function h(c){return Array.isArray(c)?f(c.constructor(c.length),c):s(c)==="Map"?new Map(c):s(c)==="Set"?new Set(c):c&&typeof c=="object"?f(Object.create(Object.getPrototypeOf(c)),c):c}var D=function(){function c(){this.commands=f({},O),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(l,m){return l===m},this.update.newContext=function(){return new c().update}}return Object.defineProperty(c.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(l){this.update.isEquals=l},enumerable:!0,configurable:!0}),c.prototype.extend=function(l,m){this.commands[l]=m},c.prototype.update=function(l,m){var T=this,w=typeof m=="function"?{$apply:m}:m;Array.isArray(l)&&Array.isArray(w)||i(!Array.isArray(w),function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."}),i(typeof w=="object"&&w!==null,function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the "+("following commands: "+Object.keys(T.commands).join(", ")+".")});var R=l;return g(w).forEach(function(N){if(a.call(T.commands,N)){var F=l===R;R=T.commands[N](w[N],R,w,l),F&&T.isEquals(R,l)&&(R=l)}else{var L=s(l)==="Map"?T.update(l.get(N),w[N]):T.update(l[N],w[N]),Ne=s(R)==="Map"?R.get(N):R[N];(!T.isEquals(L,Ne)||typeof L>"u"&&!a.call(l,N))&&(R===l&&(R=h(l)),s(R)==="Map"?R.set(N,L):R[N]=L)}}),R},c}();r.Context=D;var O={$push:function(c,l,m){return M(l,m,"$push"),c.length?l.concat(c):l},$unshift:function(c,l,m){return M(l,m,"$unshift"),c.length?c.concat(l):l},$splice:function(c,l,m,T){return S(l,m),c.forEach(function(w){E(w),l===T&&w.length&&(l=h(T)),o.apply(l,w)}),l},$set:function(c,l,m){return P(m),c},$toggle:function(c,l){k(c,"$toggle");var m=c.length?h(l):l;return c.forEach(function(T){m[T]=!l[T]}),m},$unset:function(c,l,m,T){return k(c,"$unset"),c.forEach(function(w){Object.hasOwnProperty.call(l,w)&&(l===T&&(l=h(T)),delete l[w])}),l},$add:function(c,l,m,T){return U(l,"$add"),k(c,"$add"),s(l)==="Map"?c.forEach(function(w){var R=w[0],N=w[1];l===T&&l.get(R)!==N&&(l=h(T)),l.set(R,N)}):c.forEach(function(w){l===T&&!l.has(w)&&(l=h(T)),l.add(w)}),l},$remove:function(c,l,m,T){return U(l,"$remove"),k(c,"$remove"),c.forEach(function(w){l===T&&l.has(w)&&(l=h(T)),l.delete(w)}),l},$merge:function(c,l,m,T){return $(l,c),g(c).forEach(function(w){c[w]!==l[w]&&(l===T&&(l=h(T)),l[w]=c[w])}),l},$apply:function(c,l){return I(c),c(l)}},_=new D;r.isEquals=_.update.isEquals,r.extend=_.extend,r.default=_.update,r.default.default=e.exports=f(r.default,r);function M(c,l,m){i(Array.isArray(c),function(){return"update(): expected target of "+t(m)+" to be an array; got "+t(c)+"."}),k(l[m],m)}function k(c,l){i(Array.isArray(c),function(){return"update(): expected spec of "+t(l)+" to be an array; got "+t(c)+". Did you forget to wrap your parameter in an array?"})}function S(c,l){i(Array.isArray(c),function(){return"Expected $splice target to be an array; got "+t(c)}),E(l.$splice)}function E(c){i(Array.isArray(c),function(){return"update(): expected spec of $splice to be an array of arrays; got "+t(c)+". Did you forget to wrap your parameters in an array?"})}function I(c){i(typeof c=="function",function(){return"update(): expected spec of $apply to be a function; got "+t(c)+"."})}function P(c){i(Object.keys(c).length===1,function(){return"Cannot have more than one key in an object with $set"})}function $(c,l){i(l&&typeof l=="object",function(){return"update(): $merge expects a spec of type 'object'; got "+t(l)}),i(c&&typeof c=="object",function(){return"update(): $merge expects a target of type 'object'; got "+t(c)})}function U(c,l){var m=s(c);i(m==="Map"||m==="Set",function(){return"update(): "+t(l)+" expects a target of type Set or Map; got "+t(m)})}})(ft,ft.exports);var Au=ft.exports;const ku=yn(Au),$r={CARD:"card"},xu=({id:e,image:r,index:t,moveCard:n,handleRemoveImage:i})=>{const a=p.useRef(null),[{handlerId:o},u]=ou({accept:$r.CARD,collect(f){return{handlerId:f.getHandlerId()}},hover(f,g){var S;if(!a.current)return;const h=f.index,D=t;if(h===D)return;const O=(S=a.current)==null?void 0:S.getBoundingClientRect(),_=(O.bottom-O.top)/2,k=g.getClientOffset().y-O.top;h<D&&k<_||h>D&&k>_||(n(h,D),f.index=D)}}),[{},s]=Bo({type:$r.CARD,item:()=>({id:e,index:t}),collect:f=>({isDragging:f.isDragging()})});return s(u(a)),C.jsx("div",{ref:a,"data-handler-id":o,children:C.jsxs("div",{className:"relative",children:[C.jsx("img",{className:"inline-flex border rounded-md border-gray-100 dark:border-gray-600 w-24 max-h-24 p-2 m-2",src:r,alt:"product"}),t===0&&C.jsx("p",{className:"text-xs absolute py-1 w-full bottom-0 inset-x-0 bg-blue-500 rounded-full text-white text-center ",children:"Default Image"}),C.jsx("button",{type:"button",className:"absolute top-0 right-0 text-red-500 focus:outline-none",onClick:()=>i(r),children:C.jsx(Rr,{})})]})})},$u=({setImageUrl:e,imageUrl:r,handleRemoveImage:t})=>{const n=p.useCallback((a,o)=>{e(u=>ku(u,{$splice:[[a,1],[o,0,u[a]]]}))},[e]),i=p.useCallback((a,o)=>C.jsx(xu,{index:o,id:a.id,text:a.text,moveCard:n,image:a,handleRemoveImage:t},o+1),[n,t]);return C.jsx(C.Fragment,{children:r.map((a,o)=>i(a,o))})},Ru={deleteImg:async e=>mn.post("/cloudnary",e)},Uu=({setImageUrl:e,imageUrl:r,product:t,folder:n})=>{const[i,a]=p.useState([]),[o,u]=p.useState(!1),[s,f]=p.useState(""),{data:g}=On(Sn.getGlobalSetting),{getRootProps:h,getInputProps:D,fileRejections:O}=Br({accept:{"image/*":[".jpeg",".jpg",".png",".webp"]},multiple:!!t,maxSize:5e6,maxFiles:(g==null?void 0:g.number_of_image_per_product)||2,onDrop:S=>{a(S.map(E=>Object.assign(E,{preview:URL.createObjectURL(E)})))}}),_=S=>{const E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";let I=" ";const P=E.length;for(let $=0;$<S;$++)I+=E.charAt(Math.floor(Math.random()*P));return I};p.useEffect(()=>{O&&O.map(({file:S,errors:E})=>C.jsxs("li",{children:[S.path," - ",S.size," bytes",C.jsx("ul",{children:E.map(I=>C.jsx("li",{children:I.code==="too-many-files"?V(`Maximum ${g==null?void 0:g.number_of_image_per_product} Image Can be Upload!`):V(I.message)},I.code))})]},S.path)),i&&i.forEach(S=>{if(t&&(r==null?void 0:r.length)+(i==null?void 0:i.length)>(g==null?void 0:g.number_of_image_per_product))return V(`Maximum ${g==null?void 0:g.number_of_image_per_product} Image Can be Upload!`);if(u(!0),f("Uploading...."),t&&(r==null?void 0:r.find($=>$==="https://api.cloudinary.com/v1_1/ddm8jbdnj/image/upload")))return u(!1);const E=_(10),I=new FormData;I.append("file",S),I.append("upload_preset","y2fcwtbd"),I.append("cloud_name","ddm8jbdnj"),I.append("folder",n),I.append("public_id",E.trim()),bn({url:"https://api.cloudinary.com/v1_1/ddm8jbdnj/image/upload",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:I}).then(P=>{Tn("Image Uploaded successfully!"),u(!1),e(t?$=>[...$,P.data.secure_url]:P.data.secure_url)}).catch(P=>{V(P.Message),u(!1)})})},[i]);const M=i.map(S=>C.jsx("div",{children:C.jsx("div",{children:C.jsx("img",{className:"inline-flex border-2 border-gray-100 w-24 max-h-24",src:S.preview,alt:S.name})})},S.name));p.useEffect(()=>()=>{i.forEach(S=>URL.revokeObjectURL(S.preview))},[i]);const k=async S=>{try{const E=S.split("/").pop().split(".")[0],I=`${n}/${E}`,P=await Ru.deleteImg({imgUrl:I});if(u(!1),V(P.deleteData.result==="ok"?"Image delete successfully!":P.deleteData.result),V("Image delete successfully!"),t){const $=r==null?void 0:r.filter(U=>U!==S);e($)}else e("")}catch(E){V(E.Message),u(!1)}};return C.jsxs("div",{className:"w-full text-center",children:[C.jsxs("div",{className:"border-2 border-gray-300 dark:border-gray-600 border-dashed rounded-md cursor-pointer px-6 pt-5 pb-6",...h(),children:[C.jsx("input",{...D()}),C.jsx("span",{className:"mx-auto flex justify-center",children:C.jsx(Dn,{className:"text-3xl text-emerald-500"})}),C.jsx("p",{className:"text-sm mt-2",children:At("DragYourImage")}),C.jsx("em",{className:"text-xs text-gray-400",children:At("imageFormat")})]}),C.jsx("div",{className:"text-emerald-500",children:o&&s}),C.jsx("aside",{className:"flex flex-row flex-wrap mt-4",children:t?C.jsx(Ka,{backend:Pu,children:C.jsx($u,{setImageUrl:e,imageUrl:r,handleRemoveImage:k})}):!t&&r?C.jsxs("div",{className:"relative",children:[" ",C.jsx("img",{className:"inline-flex border rounded-md border-gray-100 dark:border-gray-600 w-24 max-h-24 p-2",src:r,alt:"product"}),C.jsx("button",{type:"button",className:"absolute top-0 right-0 text-red-500 focus:outline-none",onClick:()=>k(r),children:C.jsx(Rr,{})})]}):M})]})};export{Uu as U};
